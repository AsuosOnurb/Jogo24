(()=>{var t,e={785:(t,e,i)=>{"use strict";var s,n=i(260),a=i.n(n);!function(t){t[t.Simple=0]="Simple",t[t.Header=1]="Header"}(s||(s={}));class o extends a().GameObjects.Text{constructor(t,e,i,s,n){n.color||(n.color="#292d33"),super(t,e,i,s,n),this.setOrigin(.5,.5),t.add.existing(this)}}class r extends a().GameObjects.Sprite{constructor(t,e,i,s,n,a,h,l,m){var c;if(super(t,e,i,l),this.mID=r.NEXT_BUTTON_ID,r.NEXT_BUTTON_ID++,this.mCurrentScene=t,t.add.existing(this),this.setScale(s,n),this.m_OriginalScale=this.scale,void 0!==a&&void 0!==h&&(this.m_TextObject=new o(t,e,i,a,h)),null===(c=this.m_TextObject)||void 0===c||c.setOrigin(.5),this.SetEnabled(),void 0===m){const t=[-6,-5,-4,4,5,6];this.m_RandomHoverAngle=t[Math.floor(Math.random()*t.length)]}else this.m_RandomHoverAngle=m;this.SetupButtonPressAnimation()}SetText(t){this.m_TextObject.setText(t)}NumberButtonSetText(t){this.m_TextObject.setText(t),this.UpdateFontSize()}GetText(){return this.m_TextObject.text}SetEnabled(t=1){this.setInteractive({cursor:"pointer"}),this.m_TextObject.setAlpha(t),this.setAlpha(t),this.m_IsEnabled=!0}SetDisabled(t=.3){this.disableInteractive(),this.m_TextObject.setAlpha(t),this.setAlpha(t),this.m_IsEnabled=!1}IsEnabled(){return this.m_IsEnabled}SetAngle(t){return this.setAngle(t),this.m_TextObject.setAngle(t),this}SetScale(t,e){this.setScale(t,e),this.m_TextObject.setScale(t,e)}FlipY(t){this.setFlipY(t),this.setFlipX(t),this.m_TextObject.setFlipY(t),this.m_TextObject.setFlipX(t)}SetupButtonOutAnimation(){this.m_Tween_ButtonOut=this.mCurrentScene.tweens.add({targets:this,props:{scale:this.m_OriginalScale,angle:0},ease:"Power1",duration:50,paused:!0}),this.on("pointerout",(()=>this.m_Tween_ButtonOut.play()))}SetupButtonHoverAnimation(){this.m_Tween_ButtonHover=this.mCurrentScene.tweens.add({targets:this,props:{scale:this.m_OriginalScale+.2,angle:this.m_RandomHoverAngle},ease:"Power1",duration:50,paused:!0}),this.on("pointerover",(()=>this.m_Tween_ButtonHover.play()))}SetupButtonPressAnimation(){this.m_Tween_ButtonPress=this.mCurrentScene.tweens.add({targets:[this,this.m_TextObject],props:{scale:this.m_OriginalScale-.2},ease:"Power1",duration:70,paused:!0,yoyo:!0}),this.on("pointerup",(()=>{this.m_Tween_ButtonPress.play()}))}HideShape(){this.setVisible(!1),this.m_TextObject.setVisible(!0)}SetTextColor(t){this.m_TextObject.setColor(t)}PlayCorrectExpressionTween(){this.scene.tweens.add({targets:[this,this.m_TextObject],y:this.mCurrentScene.scale.height/2,scale:2,duration:1e3,ease:"Elastic.InOut",easeParams:[1.5,.5],delay:0,yoyo:!0})}PlayIncorrectExpressionTween(){this.scene.tweens.add({targets:[this,this.m_TextObject],y:this.y+64,scale:1.4,duration:250,ease:"Elastic.InOut",easeParams:[2,2],delay:0,yoyo:!0})}SetFontSize(t){this.m_TextObject.setFontSize(t)}SetImage(t){this.setTexture(t)}UpdateFontSize(){let t=0;t=1===this.m_TextObject.text.length||0===this.m_TextObject.text.length?128:128/(.4*this.m_TextObject.text.length),t<38&&(t=38),this.m_TextObject.setFontSize(t)}}r.NEXT_BUTTON_ID=0;const h=JSON.parse('{"A":{"1118":"(1+1+1)*8","1126":"(1+1)*6*2","1127":"(7+1)*(2+1)","1128":"(2+1)*8*1","1129":"(9-1)*(2+1)","1134":"(1+1)*4*3","1135":"(5+1)*(3+1)","1136":"(6+1+1)*3","1137":"(7-1)*(3+1)","1138":"8*3+1-1","1139":"(9+3)*(1+1)","1144":"(4+1+1)*4","1145":"(4+1)*5-1","1146":"6*4+1-1","1147":"(7-1)*4*1","1148":"(8+4)*(1+1)","1149":"(9-1)*(4-1)","1155":"(5+1)*(5-1)","1156":"(5-1)*6*1","1157":"(7+5)*(1+1)","1158":"(5-1-1)*8","1166":"(6+6)*(1+1)","1168":"8*6/(1+1)","1169":"(1+1)*9+6","1188":"(1+1)*8+8","1224":"(2+1)*4*2","1225":"(5+1)*(2+2)","1226":"(6+2)*(2+1)","1227":"(7-1)*(2+2)","1228":"(2+2-1)*8","1229":"(9+2+1)*2","1233":"(3+1)*3*2","1234":"(3+2+1)*4","1235":"(5+3)*(2+1)","1236":"(3+2-1)*6","1237":"7*3+2+1","1238":"(2-1)*8*3","1239":"9*3-2-1","1244":"(4+4)*(2+1)","1245":"(5+2-1)*4","1246":"(2-1)*6*4","1247":"(7+1-2)*4","1248":"(8+4)*2*1","1249":"(9-2-1)*4","1255":"5*5+1-2","1256":"(5+1-2)*6","1257":"(7+5)*2*1","1258":"(5+1)*8/2","1259":"(2+1)*5+9","1266":"(2+1)*6+6","1267":"(7-2-1)*6","1268":"(6-2-1)*8","1269":"(9-1)*6/2","1277":"(7*7-1)/2","1278":"8*2+7+1","1279":"9*2+7-1","1288":"(8*2+8)*1","1289":"9*8/(2+1)","1333":"(3+3)*(3+1)","1334":"(4+3+1)*3","1335":"(5+3)*3*1","1336":"(6+3-1)*3","1337":"(7*3+3)*1","1338":"(8+1)*3-3","1339":"(9-3)*(3+1)","1344":"(4+4)*3*1","1345":"5*4+3+1","1346":"6/(1-3/4)","1347":"7*4-3-1","1348":"(3+1)*4+8","1349":"(4+1)*3+9","1356":"6*3+5+1","1357":"(7+5)*(3-1)","1358":"(5+1-3)*8","1359":"(9-3)*(5-1)","1366":"(6+1-3)*6","1367":"(7-3)*6*1","1368":"(8-3-1)*6","1369":"(3-1)*9+6","1377":"(7-1)*(7-3)","1378":"(7-3-1)*8","1379":"(7+1)*9/3","1388":"(3+1)*8-8","1389":"9*8*1/3","1399":"(9-1)*9/3","1444":"(4+1)*4+4","1445":"(5*4+4)*1","1446":"(6+1)*4-4","1447":"4*4+7+1","1448":"(8-1)*4-4","1449":"(9+1-4)*4","1455":"5*4+5-1","1456":"6/(5/4-1)","1457":"7*4+1-5","1458":"(5+1)*(8-4)","1459":"(4-1)*5+9","1466":"(4+1)*6-6","1467":"(7+1-4)*6","1468":"(6+1-4)*8","1469":"(9-4-1)*6","1477":"(7+1)*(7-4)","1478":"8*4-7-1","1479":"(9-1)*(7-4)","1488":"(8-4-1)*8","1489":"9*8/(4-1)","1555":"(5-1/5)*5","1556":"6*5-5-1","1559":"(5+1)*(9-5)","1566":"(6*5-6)*1","1567":"6*5+1-7","1568":"(8+1-5)*6","1569":"(9-5)*6*1","1578":"(7+1-5)*8","1579":"(7-1)*(9-5)","1588":"(5-1)*8-8","1589":"(9-5-1)*8","1599":"9+9+5+1","1666":"(6-1)*6-6","1668":"6/(1-6/8)","1669":"(9+1-6)*6","1679":"(7+1)*(9-6)","1688":"(8+1-6)*8","1689":"9+8+6+1","1699":"(9-1)*(9-6)","1779":"9+7+7+1","1788":"8+8+7+1","1789":"(9+1-7)*8","1799":"9+9+7-1","1888":"(8+8+8)*1","1889":"9+8+8-1","2223":"(2+2)*3*2","2224":"(4+2)*(2+2)","2225":"(5*2+2)*2","2227":"(7*2-2)*2","2228":"(8-2)*(2+2)","2229":"(9+2)*2+2","2233":"(3+3)*(2+2)","2234":"(4+2+2)*3","2235":"(5*2-2)*3","2236":"(2/2+3)*6","2237":"(2/2+7)*3","2238":"8*3+2-2","2239":"(9-3)*(2+2)","2244":"(4*2-2)*4","2245":"5*4+2+2","2246":"6*4+2-2","2247":"7*4-2-2","2248":"(2+2)*4+8","2249":"9*2+4+2","2255":"5*5-2/2","2256":"(5-2/2)*6","2257":"7*2+5*2","2258":"(8+5)*2-2","2259":"(9+5-2)*2","2266":"(6+2)*6/2","2267":"(7+2)*2+6","2268":"(8-2-2)*6","2269":"(6/2+9)*2","2277":"(7+7-2)*2","2278":"(7-2-2)*8","2288":"(2+2)*8-8","2289":"9*2+8-2","2333":"(3+3+2)*3","2335":"(5+2)*3+3","2336":"6*3+3*2","2337":"(7-3)*3*2","2338":"(3*2-3)*8","2339":"(3+2)*3+9","2344":"(3+2)*4+4","2345":"(5+3-2)*4","2346":"(3-2)*6*4","2347":"(7+2-3)*4","2348":"(8-4)*3*2","2349":"9*4*2/3","2355":"5*5+2-3","2356":"6*5-3*2","2357":"7*3+5-2","2358":"8*2+5+3","2359":"(9-5)*3*2","2366":"(3+2)*6-6","2367":"7*6/2+3","2368":"(8+2)*3-6","2369":"(9-3-2)*6","2377":"7*2+7+3","2378":"(7+2)*8/3","2379":"(9+7)*3/2","2388":"(8-3-2)*8","2389":"(9-3*2)*8","2399":"3*2+9+9","2444":"4*4+4*2","2445":"(5+2)*4-4","2446":"(4*2-4)*6","2447":"(7-4)*4*2","2448":"(4+2)*(8-4)","2449":"(9-2)*4-4","2455":"(5+5)*2+4","2456":"6*5-4-2","2457":"(7+5)*(4-2)","2458":"(8-5)*4*2","2459":"(4+2)*(9-5)","2466":"(6+2-4)*6","2467":"(6+2)*(7-4)","2468":"8*6/(4-2)","2469":"(9-6)*4*2","2477":"(7+7)*2-4","2478":"(7*2-8)*4","2479":"4*2+9+7","2488":"4*2+8+8","2489":"(9-4-2)*8","2499":"9+9+4+2","2557":"7*2+5+5","2558":"(5/5+2)*8","2559":"5*2+9+5","2566":"(5*2-6)*6","2567":"(7+2-5)*6","2568":"5*2+8+6","2569":"6*5/2+9","2577":"5*2+7+7","2578":"(5*2-7)*8","2579":"7*5-9-2","2588":"8*5-8*2","2589":"9+8+5+2","2666":"6*2+6+6","2667":"(7-6/2)*6","2668":"(8-6)*6*2","2669":"(6+2)*(9-6)","2678":"(7+2-6)*8","2679":"9+7+6+2","2688":"8+8+6+2","2689":"(6*2-9)*8","2699":"(9+9-6)*2","2778":"8+7+7+2","2788":"(8+2-7)*8","2789":"(9+7)*2-8","2888":"8*8/2-8","2889":"(9+2-8)*8","2899":"9+9+8-2","3333":"3*3*3-3","3334":"(3*3-3)*4","3335":"5*3+3*3","3336":"6*3+3+3","3337":"(3+3)*(7-3)","3338":"8*3+3-3","3339":"(9-3/3)*3","3344":"4*3+4*3","3345":"(3/3+5)*4","3346":"6*4+3-3","3347":"(7-3/3)*4","3348":"(3+3)*(8-4)","3349":"4*3+9+3","3355":"5*5-3/3","3356":"6*5-3-3","3357":"(5*3-7)*3","3359":"(3+3)*(9-5)","3366":"(6/3+6)*3","3367":"7*3+6-3","3368":"(3*3-6)*8","3369":"3*3+9+6","3377":"(3/7+3)*7","3378":"3*3+8+7","3379":"7*3+9/3","3388":"8/(3-8/3)","3389":"(9-3-3)*8","3399":"9+9+3+3","3444":"(4+3)*4-4","3445":"(5+4-3)*4","3446":"(6-4)*4*3","3447":"(7+3-4)*4","3448":"4*3+8+4","3449":"9*4-4*3","3455":"5*5+3-4","3456":"(5+3-4)*6","3457":"4*3+7+5","3458":"8*4-5-3","3459":"(5*3-9)*4","3466":"4*3+6+6","3468":"(8-6)*4*3","3469":"(9+3-6)*4","3477":"7*3+7-4","3478":"(7-3)*4+8","3479":"(9-7)*4*3","3489":"9+8+4+3","3499":"(9+9)*4/3","3556":"(5+5)*3-6","3557":"(7+5)*(5-3)","3558":"(5+3)*(8-5)","3559":"(9-5/5)*3","3566":"(6+3-5)*6","3567":"(7+5)*6/3","3568":"8*6/(5-3)","3569":"(5+3)*(9-6)","3578":"7*3+8-5","3579":"9+7+5+3","3588":"8+8+5+3","3589":"9*3+5-8","3599":"9*5/3+9","3666":"(6-3)*6+6","3667":"7*6-6*3","3668":"8*3+6-6","3669":"9+6+6+3","3677":"(7+7-6)*3","3678":"8+7+6+3","3679":"7*3+9-6","3688":"8*6/3+8","3689":"9*8/(6-3)","3699":"9*3+6-9","3777":"7+7+7+3","3778":"8*3+7-7","3779":"(9-7/7)*3","3788":"(7-3)*8-8","3789":"(9+7-8)*3","3799":"(9+3)*(9-7)","3888":"8*3+8-8","3889":"(9-8)*8*3","3899":"8*3+9-9","3999":"9+9+9-3","4444":"4*4+4+4","4445":"(4/4+5)*4","4446":"6*4+4-4","4447":"(4+4)*(7-4)","4448":"8*4-4-4","4449":"(9-4)*4+4","4455":"5*5-4/4","4456":"(5-4/4)*6","4457":"(7+4-5)*4","4458":"(4+4)*(8-5)","4468":"(8+4-6)*4","4469":"(4+4)*(9-6)","4477":"(4-4/7)*7","4478":"7*4+4-8","4479":"9+7+4+4","4488":"8+8+4+4","4489":"9*4-8-4","4555":"5*5+4-5","4556":"6*4+5-5","4557":"(7-5/5)*4","4558":"(4-5/5)*8","4559":"5*4+9-5","4566":"(6-5)*6*4","4567":"(7+5)*(6-4)","4568":"(5+4-6)*8","4569":"9+6+5+4","4577":"7*5-7-4","4578":"8+7+5+4","4579":"7*4+5-9","4588":"(5-8/4)*8","4589":"(9+5-8)*4","4599":"(9/9+5)*4","4666":"6*4+6-6","4667":"(7-6)*6*4","4668":"8+6+6+4","4669":"(6-4)*9+6","4677":"7+7+6+4","4678":"(6+4-7)*8","4679":"(9+7)*6/4","4688":"6*4+8-8","4689":"(9-8)*6*4","4699":"6*4+9-9","4777":"(7-7/7)*4","4778":"(7+7-8)*4","4788":"(7+4-8)*8","4789":"9*8/(7-4)","4799":"(7-9/9)*4","4888":"(8-4)*8-8","4889":"(8+4-9)*8","4899":"(4-9/9)*8","5555":"5*5-5/5","5556":"5*5+5-6","5559":"9+5+5+5","5566":"(5+5-6)*6","5567":"5*5+6-7","5568":"8+6+5+5","5577":"7+7+5+5","5578":"(5+5-7)*8","5588":"5*5-8/8","5589":"5*5+8-9","5599":"5*5-9/9","5666":"(5-6/6)*6","5667":"7+6+6+5","5668":"(8-5)*6+6","5669":"9*6-6*5","5677":"(5-7/7)*6","5678":"(7+5)*(8-6)","5679":"(7-5)*9+6","5688":"(6+5-8)*8","5689":"(8+5-9)*6","5699":"(9-6)*5+9","5779":"(7+5)*(9-7)","5788":"(7-5)*8+8","5789":"(7+5-9)*8","5888":"8*5-8-8","5889":"9*8/(8-5)","6666":"6+6+6+6","6668":"(6+6)*(8-6)","6669":"6*6*6/9","6679":"(6+6)*(9-7)","6688":"8*6/(8-6)","6689":"(6+6-9)*8","6789":"8*6/(9-7)","6799":"7*6-9-9","6888":"(8-6)*8+8","6889":"9*8-8*6","6899":"(9+9)*8/6","7889":"(9-7)*8+8"}}');class l{constructor(){}static getSolution(t){return h.A[t]}}class m{constructor(t,e,i,s,n,a,r){this.m_currentScene=t,this.m_isRunning=!1,this.m_INITIAL_TIME=e,this.m_currentTime=e,this.m_textObject=new o(t,s,n,"",{fontFamily:"Vertiky",fill:"#fff",fontStyle:"bold",fontSize:a}),r?this.m_textObject.setText(r):this.m_textObject.setText(this.FormatTime()),this.m_callback=i}StartCountdown(){this.m_isRunning||(this.m_timerEvent=this.m_currentScene.time.addEvent({delay:1e3,callback:this.Tick,callbackScope:this,loop:!0}),this.m_currentTime=this.m_INITIAL_TIME,this.m_isRunning=!0,this.m_textObject.setFill("#fff"))}StopCountdown(){this.m_isRunning&&(this.m_timerEvent.paused=!0)}Tick(){this.m_currentTime>0?(this.m_currentTime-=1,this.m_textObject.setText(this.FormatTime())):(this.m_callback(this.m_currentScene),this.m_isRunning=!1,this.m_currentScene.time.removeEvent(this.m_timerEvent),this.m_textObject.setText("00 : 00")),this.m_currentTime<10&&this.m_textObject.setFill("#ff251a")}FormatTime(){if(121==this.m_currentTime||120==this.m_currentTime)return"02 : 00";var t=Math.floor(this.m_currentTime/60),e=this.m_currentTime%60;return e<10?`0${t} : 0${e}`:`0${t} : ${e}`}Reset(){this.m_isRunning=!1,this.m_currentTime=this.m_INITIAL_TIME,this.m_textObject.setText(this.FormatTime()),this.m_textObject.setFill("#fff")}}class c{constructor(){this.operand1="",this.operand2="",this.operator="",this.expression="",this.operand1BtnIndex=0,this.operand2BtnIndex=0}}const d=JSON.parse('{"C":{"1":["1118","1127","1129","1134","1138","1144","1146","1148","1149","1158","1169","1188","1226","1229","1234","1235","1236","1237","1238","1239","1244","1248","1249","1255","1256","1257","1258","1259","1266","1267","1268","1278","1289","1334","1335","1336","1339","1345","1347","1348","1349","1358","1359","1366","1367","1368","1369","1388","1468","1478","1479","1488","1489","1589","1599","1689","1779","1788","1799","1888","1889","2224","2228","2233","2236","2239","2245","2246","2247","2248","2256","2268","2277","2278","2288","2336","2337","2338","2339","2344","2346","2347","2348","2349","2355","2356","2357","2358","2359","2366","2367","2368","2369","2377","2378","2379","2388","2399","2444","2445","2446","2448","2456","2458","2459","2466","2467","2468","2469","2478","2488","2499","2557","2567","2568","2577","2589","2666","2667","2668","2669","2679","2688","2788","2888","3336","3338","3345","3346","3348","3349","3356","3359","3367","3369","3378","3379","3389","3399","3444","3446","3448","3449","3456","3457","3458","3466","3468","3477","3479","3489","3499","3568","3569","3578","3579","3666","3667","3669","3678","3679","3688","3689","3699","3778","3788","3799","3899","3999","4444","4446","4448","4455","4458","4488","4556","4569","4578","4579","4667","4668","4669","4688","4689","4699","4788","4789","4888","5555","5559","5566","5568","5577","5588","5599","5667","5678","6666","6799"],"2":["1126","1136","1137","1139","1145","1147","1155","1156","1157","1166","1225","1227","1228","1245","1246","1247","1269","1279","1288","1333","1338","1344","1356","1357","1378","1389","1444","1446","1447","1448","1449","1455","1456","1457","1458","1459","1466","1467","1556","1567","1578","1588","1688","1699","1789","2223","2234","2237","2238","2244","2249","2255","2266","2267","2269","2333","2335","2345","2389","2447","2457","2479","2559","2566","2588","2678","2689","2699","2778","2899","3334","3337","3344","3347","3368","3445","3447","3455","3459","3469","3556","3557","3558","3559","3566","3567","3588","3589","3599","3668","3677","3777","3888","3889","4447","4456","4468","4469","4478","4479","4555","4559","4566","4567","4577","4588","4589","4666","4677","4678","4778","5556","5567","5578","5589","5688","5689","5699","5788","5789","5888","5889","6668","6669","6679","6689"],"3":["1128","1135","1168","1224","1233","1277","1337","1346","1377","1379","1399","1445","1469","1477","1555","1559","1566","1568","1569","1579","1666","1668","1669","1679","2225","2227","2229","2235","2257","2258","2259","2289","2449","2445","2477","2489","2558","2569","2578","2579","2789","2889","3333","3335","3339","3355","3357","3366","3377","3388","3478","3779","3789","4445","4449","4457","4477","4489","4557","4558","4568","4599","4679","4777","4799","4889","4899","5666","5668","5669","5677","5679","5779","6688","6789","6888","6889","6899","7889"]}}');var u,p,g=i(269);function S(t){return!isNaN(parseFloat(t))&&isFinite(t)}function _(t){return(0,g.ku)(t.replaceAll("x","*"))}!function(t){t[t.Easy=0]="Easy",t[t.Medium=1]="Medium",t[t.Hard=2]="Hard",t[t.Any=3]="Any"}(u||(u={}));class f{constructor(){console.log(d.C)}static generateCard(t){let e;switch(t){case u.Easy:e=d.C[1],console.log("Generated an Easy card");break;case u.Medium:e=d.C[2],console.log("Generated a Medium card");break;case u.Hard:e=d.C[3],console.log("Generated a Hard card");break;case u.Any:e=d.C[function(t,e){let i=Math.ceil(1),s=Math.floor(3);return Math.floor(Math.random()*(s-i+1))+i}()]}return e[Math.floor(Math.random()*e.length)].toString()}}class b{constructor(){this.length=0,this.stack=new Array}isEmpty(){return 0===this.length}push(t){this.stack[this.length++]=t}pop(){if(!this.isEmpty())return this.stack[--this.length]}top(){if(!this.isEmpty())return this.stack[this.length-1]}stackContents(){console.log("Stack Contents");for(let t=0;t<this.length;++t)console.log(`stack[${t}]: ${this.stack[t]}`)}}!function(t){t[t.PickingOperand1=0]="PickingOperand1",t[t.PickingOperator=1]="PickingOperator",t[t.PickingOperand2=2]="PickingOperand2"}(p||(p={}));class y{constructor(t){this.mDifficulty=t,this.mCurrentCard="????",this.mTotalCorrect=0,this.mTotalWrong=0,this.m_PlayerState=p.PickingOperand1,this.mOperationStack=new b,this.mCurrentOperation=new c}NewCard(){return this.mCurrentCard=f.generateCard(this.mDifficulty),this.ResetOperationState(),this.mCurrentCard}PushCurrentOperation(){console.log("Pushing new operation"),console.log(this.mCurrentOperation),this.mOperationStack.push(this.mCurrentOperation)}PeekCurrentOperation(){return this.mCurrentOperation}RevertToLastOperation(){let t=this.mOperationStack.pop();if(t)return this.mCurrentOperation=t,t}CompleteOperation(){return S(this.mCurrentOperation.operand1)&&S(this.mCurrentOperation.operand2)?this.mCurrentOperation.expression=`${this.mCurrentOperation.operand1} ${this.mCurrentOperation.operator} ${this.mCurrentOperation.operand2}`:S(this.mCurrentOperation.operand1)&&!S(this.mCurrentOperation.operand2)?this.mCurrentOperation.expression=`${this.mCurrentOperation.operand1} ${this.mCurrentOperation.operator} (${this.mCurrentOperation.operand2})`:!S(this.mCurrentOperation.operand1)&&S(this.mCurrentOperation.operand2)?this.mCurrentOperation.expression=`(${this.mCurrentOperation.operand1}) ${this.mCurrentOperation.operator}${this.mCurrentOperation.operand2}`:S(this.mCurrentOperation.operand1)||S(this.mCurrentOperation.operand2)?this.mCurrentOperation.expression="ERROR":this.mCurrentOperation.expression=`(${this.mCurrentOperation.operand1}) ${this.mCurrentOperation.operator} (${this.mCurrentOperation.operand2})`,this.mCurrentOperation.expression}CheckSolution(t){return 24===(0,g.ku)(t.replaceAll("x","*"))}GetCurrentPlayerState(){return this.m_PlayerState}NextState(){switch(this.m_PlayerState){case p.PickingOperand1:this.m_PlayerState=p.PickingOperator;break;case p.PickingOperand2:this.ResetOperationState();break;case p.PickingOperator:this.m_PlayerState=p.PickingOperand2}console.log(`We are now on state ${this.StateToString()}`)}ResetOperationState(){this.m_PlayerState=p.PickingOperand1,this.mCurrentOperation=new c}ResetOperationStack(){this.mOperationStack=new b}StateToString(){switch(this.m_PlayerState){case p.PickingOperand1:return"Picking operand 1";case p.PickingOperand2:return"Picking operand 2";case p.PickingOperator:return"Picking operator "}}IsPickingOperator(){return this.m_PlayerState===p.PickingOperator}IsPickingOperand1(){return this.m_PlayerState===p.PickingOperand1}IsPickingOperand2(){return this.m_PlayerState===p.PickingOperand2}IncrTotalCorrect(){return this.mTotalCorrect+=1,this.mTotalCorrect}IncrTotalWrong(){return this.mTotalWrong+=1,this.mTotalWrong}SetCard(t){this.mCurrentCard=t}GetTotalCorrect(){return this.mTotalCorrect}GetTotalWrong(){return this.mTotalWrong}GetCurrentExpression(){return`${this.mCurrentOperation.operand1}${this.mCurrentOperation.operator}${this.mCurrentOperation.operand2}`}GetCurrentCard(){return this.mCurrentCard}SetOperand1(t,e){this.mCurrentOperation.operand1=t,this.mCurrentOperation.operand1BtnIndex=e}SetOperand2(t,e){this.mCurrentOperation.operand2=t,this.mCurrentOperation.operand2BtnIndex=e}SetOperator(t){return this.mCurrentOperation.operator=t,S(this.mCurrentOperation.operand1)?`${this.mCurrentOperation.operand1} ${t}`:`(${this.mCurrentOperation.operand1}) ${t}`}SetExpression(t){this.mCurrentOperation.expression=t}IsStackEmpty(){return this.mOperationStack.isEmpty()}SetPlayerState(t){this.m_PlayerState=t}}class w{constructor(){w.SetUser(""),w.SetFirstName(""),w.SetClass(""),w.SetSchool("")}static GetInstance(){return w.Instance||(w.Instance=new w),w.Instance}static GetLocalData(){if("undefined"==typeof Storage)return;let t=sessionStorage.getItem("loginInfo");if(null!=t){let e=JSON.parse(t);this.ParseData(e)}}static SetLocalData(){if("undefined"==typeof Storage)return;let t={user:w.GetUser(),firstName:w.GetFirstName(),turma:w.GetClass(),escola:w.GetSchool()},e=JSON.stringify(t);sessionStorage.setItem("loginInfo",e)}static Logout(){w.SetUser(""),w.SetFirstName(""),w.SetClass(""),w.SetSchool(""),w.SetLocalData()}static ParseData(t){t.user&&w.SetUser(t.user),t.firstName&&w.SetFirstName(t.firstName),t.turma&&w.SetClass(t.turma),t.escola&&w.SetSchool(t.escola)}static GetUser(){return this.m_User}static SetUser(t){this.m_User=t}static GetFirstName(){return this.m_FirstName}static SetFirstName(t){this.m_FirstName=t}static GetClass(){return this.m_Class}static SetClass(t){this.m_Class=t}static GetSchool(){return this.m_School}static SetSchool(t){this.m_School=t}static LoginWithData(t){const e="false"!=(i=t)?{user:i.split(",")[0],firstName:i.split(",")[1],escola:i.split(",")[2],turma:i.split(",")[3]}:"WRONG_PASSWORD";var i;return console.log(e),"WRONG_PASSWORD"===e?(alert("Utilizador ou Password Errados"),!1):(this.m_User=e.user,this.m_FirstName=e.firstName,this.m_Class=e.turma,this.m_School=e.escola,console.log("Setting login data"),!0)}static IsLoggedIn(){return""!=this.m_User}}var C,O,B=i(755);class x{constructor(){}GetInstance(){return x.Instance||(x.Instance=new x),x.Instance}GetUserInfoInstance(){return w.GetInstance()}static Login(t,e){return new Promise((function(i,s){B.ajax({type:"POST",url:"https://www.hypatiamat.com/loginActionVH.php",data:"action=dologin&u="+t+"&p="+e,crossDomain:!0,cache:!1,success:function(t){i(t)},error:function(t){s(t)}})}))}static SessionVerify(){B.ajax({type:"POST",url:"https://www.hypatiamat.com/loginActionVH.php",data:"action=verify",cache:!1,success:function(t){"not"!=t?(w.SetUser(t.split(",")[0]),w.SetFirstName(t.split(",")[1]),w.SetSchool(t.split(",")[2]),w.SetClass(t.split(",")[3]),w.SetLocalData()):w.SetUser("")},error:function(t,e,i){w.SetUser(""),alert("Falha de ligação, por favor verifique a sua conexão")}})}static DestroySession(){B.ajax({type:"POST",url:"https://www.hypatiamat.com/loginActionVH.php",data:"action=des",cache:!1,success:function(t){w.Logout()},error:function(t,e,i){w.SetUser(""),alert("Falha de ligação, por favor verifique a sua conexão")}})}static GetTOP(t,e,i,s,n){return new Promise((function(a,o){B.ajax({type:"POST",url:"https://www.hypatiamat.com/newHRecords.php",data:"action=mostraNewA&anoLi="+t+"&anoLf="+e+"&mturma="+i+"&mescola="+s+"&flag=2&tip="+n+"&tC=jogo24HypatiaTOP",crossDomain:!0,cache:!1,success:function(t){a(t)},error:function(t){o(t)}})}))}static UpdateTOP(t,e,i,s){let n=w.GetClass(),a=w.GetSchool();return new Promise((function(o,r){B.ajax({type:"POST",url:"https://www.hypatiamat.com/newHRecords.php",data:"action=mostraNewA&anoLi="+t+"&anoLf="+e+"&mturma="+n+"&mescola="+a+"&flag="+i+"&tip="+s+"&tC=jogo24HypatiaTOP",crossDomain:!0,cache:!1,success:function(t){o(t)},error:function(t){r(t)}})}))}static SendScore(t,e){const i=w.GetUser(),s=w.GetSchool(),n=w.GetClass();return console.info("Attempting connection (sending player score) to DB"),console.info(`Username: ${i}`),console.info(`School: ${s}`),console.info(`Class: ${n}`),console.info(`Score: ${t}`),console.info(`Difficulty: ${e}`),new Promise((function(a,o){B.ajax({type:"POST",url:"https://www.hypatiamat.com/newHRecords.php",data:"action=insereA&musername="+i+"&mturma="+n+"&mescola="+s+"&mpontuacao="+t+"&mtipo="+e+"&t=jogo24Hypatia&tC=jogo24HypatiaTOP",crossDomain:!0,cache:!1,success:function(t){a(t)},error:function(t){o(t)}})}))}}class P extends a().Scene{constructor(){super("SoloGame"),this.isInstanced=!1}preload(){this.add.sprite(this.game.scale.width/2,this.game.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height),this.add.sprite(256,96,"smallTitle").setScale(1,1),this.add.sprite(this.scale.width/2,this.scale.height/2,"cardBG").setScale(1.15),this.add.sprite(this.scale.width/2+680,128,"correctCounter"),this.add.sprite(this.scale.width/2+680,288,"wrongCounter"),this.Setup_Labels(),this.Setup_Buttons(),this.add.sprite(this.scale.width/2-640,this.scale.height/2-64,"clockBG2"),this.countdownTimer=new m(this,60,this.NoTimeLeft.bind(this),320,this.scale.height/2+20,64,""),this.textSolution=new o(this,256,256,"",{fontFamily:"Vertiky",fontSize:32}),this.mExpressionBar=new r(this,this.scale.width/2,96,1,.9,"",{fontFamily:"Bubblegum",fontSize:48,fill:"#FFFFFF"},"inputBar",0),this.mExpressionBar.SetDisabled(1),this.mImgLoginWarning=this.add.sprite(this.scale.width/2,this.scale.height/2,"gameEndBGg"),this.mImgLoginWarning.setScale(1.5),this.mImgLoginWarning.setAlpha(0),this.mTextLoginWarning=new o(this,this.scale.width/2,this.scale.height/2-32,"\n\n Para que o teu nome figure nos TOPs \n tens de estar registado.\n\n\n\nRegista-te em www.hypatiamat.com",{fontFamily:"Vertiky",align:"center",fontSize:34}),this.mTextLoginWarning.setColor("#4e2400"),this.mTextLoginWarning.setAlpha(0)}init(t){this.m_Data=t,this.m_GameState=new y(this.m_Data.difficulty),this.isInstanced||(this.events.on("NumberButtonClick",this.HandleButtonClick_Number,this),this.events.on("OperationButtonClick",this.HandleButtonClick_Operation,this),this.events.on("ResetButtonClick",this.HandleButtonClick_Reset,this),this.events.on("UndoButtonClick",this.HandleButtonClick_Undo,this),this.isInstanced=!0)}Setup_Labels(){this.textTotalCorrect=new o(this,this.scale.width/2+740,128,"0",{fontFamily:"Vertiky",fontSize:40,color:"#ffffff",fontStyle:"bold"}),this.textTotalCorrect.setOrigin(.5,.5),this.textTotalWrong=new o(this,this.scale.width/2+740,288,"0",{fontFamily:"Vertiky",fontSize:40,color:"#ffffff",fontStyle:"bold"}),this.textTotalWrong.setOrigin(.5,.5)}Setup_Buttons(){this.mBtn_NewCard=new r(this,this.scale.width/2,this.scale.height/2,.6,.6,"",{},"btn_playCard"),this.mBtn_NewCard.on("pointerup",(()=>this.NewCard())),this.btnGotoMenu=new r(this,96,this.scale.height-96,.7,.7,"",{},"btn_gotoMenu"),this.btnGotoMenu.on("pointerup",(()=>{this.scene.start("MainMenu")})),this.m_CardButtons=[new r(this,this.scale.width/2-204,this.scale.height/2,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fontStyle:"bold",color:"#05b8ff"},"btn_numberBG"),new r(this,this.scale.width/2,this.scale.height/2-204,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fontStyle:"bold",color:"#05b8ff"},"btn_numberBG"),new r(this,this.scale.width/2+204,this.scale.height/2,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fontStyle:"bold",color:"#05b8ff"},"btn_numberBG"),new r(this,this.scale.width/2,this.scale.height/2+204,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fontStyle:"bold",color:"#05b8ff"},"btn_numberBG")],this.m_BtnUsed=new Array;for(let t=0;t<this.m_CardButtons.length;t++)this.m_CardButtons[t].SetTextColor("#ffffff"),this.m_CardButtons[t].SetDisabled(),this.m_CardButtons[t].on("pointerup",(()=>this.events.emit("NumberButtonClick",t))),this.m_BtnUsed[t]=!1;this.m_BtnReset=new r(this,this.scale.width/2-196,this.scale.height-96,.8,.8,"",{fontSize:64},"btn_reset"),this.m_BtnReset.on("pointerup",(()=>this.events.emit("ResetButtonClick"))),this.m_BtnReset.SetDisabled(),this.m_BtnUndo=new r(this,this.scale.width/2+196,this.scale.height-96,.8,.8,"",{fontSize:32},"btn_undo"),this.m_BtnUndo.on("pointerup",(()=>this.events.emit("UndoButtonClick"))),this.m_BtnUndo.SetDisabled(),this.btnOperationAdd=new r(this,this.scale.width/2+580,this.scale.height/2-64,1,1,"",{fontSize:64},"btn_addition"),this.btnOperationAdd.on("pointerup",(()=>this.events.emit("OperationButtonClick","+"))),this.btnOperationSubtract=new r(this,this.scale.width/2+800,this.scale.height/2-64,1,1,"",{fontSize:64},"btn_subtraction"),this.btnOperationSubtract.on("pointerup",(()=>this.events.emit("OperationButtonClick","-"))),this.btnOperationMultiply=new r(this,this.scale.width/2+580,this.scale.height/2+160,1,1,"",{fontSize:64},"btn_multiplication"),this.btnOperationMultiply.on("pointerup",(()=>this.events.emit("OperationButtonClick","x"))),this.btnOperationDivide=new r(this,this.scale.width/2+800,this.scale.height/2+160,1,1,"",{fontSize:64},"btn_division"),this.btnOperationDivide.on("pointerup",(()=>this.events.emit("OperationButtonClick","/"))),this.DisableOperationButtons()}NewCard(){let t=this.m_GameState.NewCard();for(let e=0;e<t.length;e++)this.m_CardButtons[e].SetText(t[e]),this.m_CardButtons[e].SetEnabled(),this.m_BtnUsed[e]=!1,this.m_CardButtons[e].SetFontSize(128);this.m_BtnReset.SetDisabled(),this.m_BtnUndo.SetDisabled(),this.textSolution.setText(`[DEBUG] Solução: ${l.getSolution(t)}`),this.mExpressionBar.SetText(""),this.m_GameState.ResetOperationState(),this.m_GameState.ResetOperationStack(),this.m_GameState.SetCard(t),this.mExpressionBar.SetTextColor("#FFFFFF"),this.countdownTimer.StartCountdown()}NoTimeLeft(){for(let t=0;t<4;t++)this.m_CardButtons[t].SetDisabled();this.m_BtnReset.SetDisabled(),this.m_BtnUndo.SetDisabled(),this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide.SetDisabled(),this.mBtn_NewCard.SetDisabled(),w.IsLoggedIn()?this.SavePlayerData():this.ShowPleaseLoginWarning()}HandleButtonClick_Number(t){const e=this.m_CardButtons[t].GetText(),i=this.m_GameState.GetCurrentPlayerState();if(this.m_BtnReset.SetEnabled(),this.m_BtnUndo.SetEnabled(),this.m_GameState.GetCurrentPlayerState()===p.PickingOperand1)this.m_BtnUsed[t]=!0,this.EnableOperationButtons(),this.m_GameState.SetOperand1(e,t),this.mExpressionBar.SetText(e),this.DisableNumberButtons(),this.m_GameState.NextState();else if(i===p.PickingOperand2){this.m_GameState.SetOperand2(e,t);const i=this.m_GameState.CompleteOperation();this.m_CardButtons[t].NumberButtonSetText(i),this.mExpressionBar.SetText(i);let s=0;for(let t=0;t<4;t++)!0===this.m_BtnUsed[t]&&s++;3===s&&(this.m_GameState.CheckSolution(i)?(this.m_GameState.IncrTotalCorrect(),this.ShowPlayerWon(i)):(this.m_GameState.IncrTotalWrong(),this.ShowPlayerLost(i)),this.DisableNumberButtons(),this.DisableOperationButtons(),this.m_BtnReset.SetDisabled(),this.m_BtnUndo.SetDisabled()),this.m_GameState.PushCurrentOperation(),this.m_GameState.ResetOperationState()}console.log(`Current state: ${this.m_GameState.StateToString()}`)}HandleButtonClick_Operation(t){const e=this.m_GameState.SetOperator(t);this.m_GameState.NextState(),this.EnableNumberButtons(),this.DisableOperationButtons(),this.mExpressionBar.SetText(e)}HandleButtonClick_Undo(){const t=this.m_GameState.GetCurrentPlayerState();if(t===p.PickingOperand1){console.log("Player is wants to undo the previous operation completely");let t=this.m_GameState.RevertToLastOperation();if(void 0===t)return void console.log("No defined operation was pushed");this.m_CardButtons[t.operand1BtnIndex].NumberButtonSetText(t.operand1),this.m_CardButtons[t.operand1BtnIndex].SetEnabled(),this.m_BtnUsed[t.operand1BtnIndex]=!1,this.m_CardButtons[t.operand2BtnIndex].NumberButtonSetText(t.operand2),this.m_CardButtons[t.operand2BtnIndex].SetEnabled(),this.m_BtnUsed[t.operand2BtnIndex]=!1,this.mExpressionBar.SetText("")}else if(t===p.PickingOperator){let t=this.m_GameState.PeekCurrentOperation();console.log("Undoing the picking of the first operand:"),console.log(t),this.m_BtnUsed[t.operand1BtnIndex]=!1,this.EnableNumberButtons(),this.DisableOperationButtons(),this.mExpressionBar.SetText(""),this.m_GameState.SetPlayerState(p.PickingOperand1)}else if(t===p.PickingOperand2){this.DisableNumberButtons(),this.EnableOperationButtons();const t=this.mExpressionBar.GetText(),e=t.substring(0,t.length-1);console.log(`..${e}..`),this.mExpressionBar.SetText(e),this.m_GameState.SetPlayerState(p.PickingOperator)}console.log(`Current state: ${this.m_GameState.StateToString()}`)}HandleButtonClick_Reset(){this.m_GameState.ResetOperationState(),this.DisableOperationButtons(),this.EnableNumberButtons(),this.ResetNumberButtons(),this.mExpressionBar.SetText("")}ShowPlayerWon(t){this.mExpressionBar.SetText(t+" = 24"),this.mExpressionBar.SetTextColor("#00ff1a"),this.textTotalCorrect.setText(this.m_GameState.GetTotalCorrect().toString()),this.mExpressionBar.PlayCorrectExpressionTween()}ShowPlayerLost(t){this.mExpressionBar.SetText(t+` = ${_(t)}`),this.mExpressionBar.SetTextColor("#ff2600"),this.textTotalWrong.setText(this.m_GameState.GetTotalWrong().toString()),this.mExpressionBar.PlayIncorrectExpressionTween()}EnableNumberButtons(){for(let t=0;t<4;t++)!1===this.m_BtnUsed[t]&&this.m_CardButtons[t].SetEnabled()}DisableNumberButtons(){for(let t=0;t<4;t++)this.m_CardButtons[t].SetDisabled()}EnableOperationButtons(){this.btnOperationAdd.SetEnabled(),this.btnOperationSubtract.SetEnabled(),this.btnOperationDivide.SetEnabled(),this.btnOperationMultiply.SetEnabled()}DisableOperationButtons(){this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationDivide.SetDisabled(),this.btnOperationMultiply.SetDisabled()}ResetNumberButtons(){for(let t=0;t<4;t++)this.m_CardButtons[t].SetText(this.m_GameState.GetCurrentCard()[t]),this.m_CardButtons[t].SetFontSize(128),this.m_CardButtons[t].SetEnabled(),this.m_BtnUsed[t]=!1}ShowPleaseLoginWarning(){this.tweens.add({targets:[this.mImgLoginWarning,this.mTextLoginWarning],alpha:1,scale:1.6,duration:500,ease:"Power1"}),this.mExpressionBar.SetText(""),this.tweens.add({targets:[this.btnOperationAdd,this.btnOperationSubtract,this.btnOperationMultiply,this.btnOperationDivide,this.m_BtnReset,this.m_BtnUndo,this.mExpressionBar],alpha:0,duration:500,ease:"Power1"}),this.tweens.add({targets:this.btnGotoMenu,x:this.scale.width/2,y:this.scale.height-64,duration:1500,ease:"Power1"})}SavePlayerData(){x.SendScore(this.m_GameState.GetTotalCorrect(),this.m_GameState.mDifficulty+1).then((t=>{console.log("Game data was sent to DB")})).catch((t=>{console.log("Failed to send game data to DB"),console.log(`Error: ${t}`)}))}}!function(t){t[t.PickingOperand1=1]="PickingOperand1",t[t.PickingOperator=2]="PickingOperator",t[t.PickingOperand2=3]="PickingOperand2"}(C||(C={}));class T{constructor(){this.m_Score=0}GetScore(){return this.m_Score}AddPoint(){this.m_Score+=1}SubtractPoint(){this.m_Score-=1}}class F{constructor(t){this.mDifficulty=t,this.mCurrentCard="????",this.mPlayers=[new T,new T,new T,new T],this.m_CurrentPlayer=0,this.m_PlayerState=C.PickingOperand1,this.mCurrentOperation=new c,this.mOperationStack=new b}NewCard(){return this.mCurrentCard=f.generateCard(this.mDifficulty),this.ResetOperationState(),this.mCurrentCard}PushCurrentOperation(){console.log("Pushing new operation"),console.log(this.mCurrentOperation),this.mOperationStack.push(this.mCurrentOperation)}RevertToLastOperation(){let t=this.mOperationStack.pop();if(t)return this.mCurrentOperation=t,t}CompleteOperation(){return S(this.mCurrentOperation.operand1)&&S(this.mCurrentOperation.operand2)?this.mCurrentOperation.expression=`${this.mCurrentOperation.operand1}${this.mCurrentOperation.operator}${this.mCurrentOperation.operand2}`:S(this.mCurrentOperation.operand1)&&!S(this.mCurrentOperation.operand2)?this.mCurrentOperation.expression=`${this.mCurrentOperation.operand1}${this.mCurrentOperation.operator}(${this.mCurrentOperation.operand2})`:!S(this.mCurrentOperation.operand1)&&S(this.mCurrentOperation.operand2)?this.mCurrentOperation.expression=`(${this.mCurrentOperation.operand1})${this.mCurrentOperation.operator}${this.mCurrentOperation.operand2}`:S(this.mCurrentOperation.operand1)||S(this.mCurrentOperation.operand2)?this.mCurrentOperation.expression="ERROR":this.mCurrentOperation.expression=`(${this.mCurrentOperation.operand1})${this.mCurrentOperation.operator}(${this.mCurrentOperation.operand2})`,this.mCurrentOperation.expression}CheckSolution(t){return 24===(0,g.ku)(t.replaceAll("x","*"))}GetCurrentState(){return this.m_PlayerState}NextState(){switch(this.m_PlayerState){case C.PickingOperand1:this.m_PlayerState=C.PickingOperator;break;case C.PickingOperand2:this.ResetOperationState();break;case C.PickingOperator:this.m_PlayerState=C.PickingOperand2}console.log(`We are now on state ${this.StateToString()}`)}ResetOperationState(){this.m_PlayerState=C.PickingOperand1,this.mCurrentOperation=new c}ResetOperationStack(){this.mOperationStack=new b}StateToString(){switch(this.m_PlayerState){case C.PickingOperand1:return"Picking operand 1";case C.PickingOperand2:return"Picking operand 2";case C.PickingOperator:return"Picking operator ";default:return"DEFAULT_VAL"}}IsPickingOperator(){return this.m_PlayerState===C.PickingOperator}IsPickingOperand1(){return this.m_PlayerState===C.PickingOperand1}IsPickingOperand2(){return this.m_PlayerState===C.PickingOperand2}IncrTotalCorrect(){return this.mPlayers[this.m_CurrentPlayer].AddPoint(),this.mPlayers[this.m_CurrentPlayer].GetScore()}IncrTotalWrong(){return this.mPlayers[this.m_CurrentPlayer].SubtractPoint(),this.mPlayers[this.m_CurrentPlayer].GetScore()}IsStackEmpty(){return this.mOperationStack.isEmpty()}SetPickingOperand2(){this.m_PlayerState=C.PickingOperand2}IsCardWon(){return!0}AwardCurrentPlayer(){return this.mPlayers[this.m_CurrentPlayer].AddPoint(),this.mPlayers[this.m_CurrentPlayer].GetScore()}PunishCurrentPlayer(){return this.mPlayers[this.m_CurrentPlayer].SubtractPoint(),this.mPlayers[this.m_CurrentPlayer].GetScore()}GetCurrentPlayer(){return this.m_CurrentPlayer}SetCurrentPlayer(t){this.m_CurrentPlayer=t}GetmCurrentOperation(){return this.mCurrentOperation}SetOperand1(t,e){this.mCurrentOperation.operand1=t,this.mCurrentOperation.operand1BtnIndex=e}SetOperand2(t,e){this.mCurrentOperation.operand2=t,this.mCurrentOperation.operand2BtnIndex=e}SetOperator(t){return this.mCurrentOperation.operator=t,S(this.mCurrentOperation.operand1)?`${this.mCurrentOperation.operand1}${t}`:`(${this.mCurrentOperation.operand1})${t}`}SetExpression(t){this.mCurrentOperation.expression=t}SetCard(t){this.mCurrentCard=t}GetCurrentExpression(){return`${this.mCurrentOperation.operand1}${this.mCurrentOperation.operator}${this.mCurrentOperation.operand2}`}GetCurrentCard(){return this.mCurrentCard}GetCurrentPlayerScore(){return this.mPlayers[this.m_CurrentPlayer].GetScore()}}class G extends Phaser.GameObjects.Image{constructor(t,e,i,s){super(t,e,i,"cardBG"),this.setScale(.3,.3),t.add.existing(this),this.mButtons=new Array,this.mButtons[0]=new o(t,e-54,i,s[0],{fontFamily:"Bubblegum",fontSize:48,fill:"#4e2400"}),this.mButtons[1]=new o(t,e,i-54,s[1],{fontFamily:"Bubblegum",fontSize:48,fill:"#4e2400"}),this.mButtons[2]=new o(t,e+54,i,s[2],{fontFamily:"Bubblegum",fontSize:48,fill:"#4e2400"}),this.mButtons[3]=new o(t,e,i+54,s[3],{fontFamily:"Bubblegum",fontSize:48,fill:"#4e2400"}),this.FlipForTop()}SetPosition(t,e){this.setPosition(t,e),this.mButtons[0].setPosition(t-54,e),this.mButtons[1].setPosition(t,e-54),this.mButtons[2].setPosition(t+54,e),this.mButtons[3].setPosition(t,e+54)}FlipForBottom(){this.setFlipY(!1),this.mButtons.forEach((t=>{t.setFlipY(!1),t.setFlipX(!1)}))}FlipForTop(){this.setFlipY(!0),this.mButtons.forEach((t=>{t.setFlipY(!0),t.setFlipX(!0)}))}SetCard(t){for(let e=0;e<4;e++)this.mButtons[e].setText(t[e])}}class k extends a().Scene{constructor(){super("MultiplayerGame"),this.isInstanced=!1}preload(){}init(){this.add.sprite(this.game.scale.width/2,this.game.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height),this.btnGotoMenu=new r(this,this.scale.width/2,70,.5,.5,"",{fontSize:64},"btn_gotoMenu"),this.btnGotoMenu.on("pointerup",(()=>{this.scene.start("MainMenu")})),this.textSolution=new o(this,128,256,"",{fontSize:32}),this.isInstanced||(this.events.on("DifficultyButtonClick",this.HandleDifficultyButtonClick,this),this.events.on("PlayerButtonClick",this.HandleButtonClick_Player,this),this.events.on("NumberButtonClick",this.HandleButtonClick_Number,this),this.events.on("OperationButtonClick",this.HandleButtonClick_Operation,this),this.isInstanced=!0),this.Setup()}NewCard(){let t=this.m_GameState.NewCard();for(let e=0;e<t.length;e++)this.m_CardButtons[e].NumberButtonSetText(t[e]),this.m_CardButtons[e].SetDisabled(.7),this.m_BtnUsed[e]=!1;this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide.SetDisabled(),this.textSolution.setText(`Solução: ${l.getSolution(t)}`);for(let t=0;t<4;t++)this.m_Array_ExpressionBars[t].SetText("");for(let t=0;t<4;t++)this.m_Array_PlayerButtons[t].SetEnabled();this.mMinicard1.SetCard(t),this.mMinicard2.SetCard(t),this.m_Array_ExpressionBars.forEach((t=>{t.SetText(""),t.SetTextColor("#FFFFFF")})),this.mCountDownTimer.Reset()}DisableAllButtons(){for(let t=0;t<4;t++)this.m_CardButtons[t].SetDisabled();this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide.SetDisabled(),this.m_Btn_NewCard.SetDisabled()}HandleButtonClick_Player(t){this.m_GameState.SetCurrentPlayer(t);for(let e=0;e<4;e++)t!=e&&this.m_Array_PlayerButtons[e].SetDisabled(),this.m_Array_PlayerButtons[t].SetDisabled(1);for(let t=0;t<4;t++)this.m_CardButtons[t].SetEnabled();this.RedrawCard(t),this.m_Btn_NewCard.SetDisabled(),this.RedrawMiniCards(t),this.mCountDownTimer.StartCountdown()}RedrawCard(t){if(0===t||1===t){this.m_Btn_NewCard.setFlipY(!0);for(let t=0;t<4;t++)this.m_CardButtons[t].FlipY(!0)}else{this.m_Btn_NewCard.setFlipY(!1);for(let t=0;t<4;t++)this.m_CardButtons[t].FlipY(!1)}}RedrawMiniCards(t){0==t||1==t?(this.mMinicard1.SetPosition(384,this.scale.height-128),this.mMinicard1.FlipForBottom(),this.mMinicard2.SetPosition(this.scale.width-384,this.scale.height-128),this.mMinicard2.FlipForBottom()):(this.mMinicard1.SetPosition(384,128),this.mMinicard1.FlipForTop(),this.mMinicard2.SetPosition(this.scale.width-384,128),this.mMinicard2.FlipForTop())}HandleButtonClick_Number(t){console.log("Clicked button "+t.toString());const e=this.m_CardButtons[t].GetText(),i=this.m_GameState.GetCurrentState();if(this.m_GameState.GetCurrentState()===C.PickingOperand1)this.m_CardButtons[t].SetDisabled(),this.m_BtnUsed[t]=!0,this.EnableOperationButtons(),this.m_GameState.SetOperand1(e,t),this.m_Array_ExpressionBars.forEach((t=>{t.SetText(e)})),this.m_GameState.NextState();else if(i===C.PickingOperand2){this.m_GameState.SetOperand2(e,t);const i=this.m_GameState.CompleteOperation();this.m_CardButtons[t].NumberButtonSetText(i),this.m_Array_ExpressionBars.forEach((t=>{t.SetText(i)}));let s=0;for(let t=0;t<4;t++)!0===this.m_BtnUsed[t]&&s++;3===s&&(this.m_GameState.CheckSolution(i)?(this.m_GameState.IncrTotalCorrect(),this.ShowPlayerWon(i)):(this.m_GameState.IncrTotalWrong(),this.ShowPlayerLost(i)),this.DisableNumberButtons(),this.DisableOperationButtons(),this.m_Btn_NewCard.SetEnabled(),this.mCountDownTimer.StopCountdown()),this.m_GameState.PushCurrentOperation(),this.m_GameState.ResetOperationState()}console.log(`Current state: ${this.m_GameState.StateToString()}`)}HandleButtonClick_Operation(t){const e=this.m_GameState.SetOperator(t);this.m_GameState.NextState(),this.EnableNumberButtons(),this.DisableOperationButtons(),this.m_Array_ExpressionBars.forEach((t=>{t.SetText(e)}))}Setup(){this.m_ImageText_Rules=this.add.image(this.scale.width/2,this.scale.height/2,"textImage_rules"),this.m_ImageText_Rules.setScale(1.5),this.input.on("pointerup",(()=>{this.input.removeListener("pointerup"),this.tweens.add({targets:this.m_ImageText_Rules,alpha:0,duration:500,ease:"Power1"}),this.Show_DifficultyPanel()}))}Show_DifficultyPanel(){this.m_Group_SelectDifficultyPanel=this.add.group(),this.m_ImageText_PickADifficulty=this.add.image(this.scale.width/2,200,"textImage_pickDiff"),this.m_ImageText_PickADifficulty.setAlpha(0),this.m_Group_SelectDifficultyPanel.add(this.m_ImageText_PickADifficulty),this.m_DifficultyButtons=[new r(this,this.scale.width/2,this.scale.height/2-192,1,1,"",{},"btn_easy",0),new r(this,this.scale.width/2,this.scale.height/2,1,1,"",{},"btn_medium",0),new r(this,this.scale.width/2,this.scale.height/2+192,1,1,"",{},"btn_hard",0),new r(this,this.scale.width/2,this.scale.height/2+384,1,1,"",{},"btn_allDifficulties",0)];for(let t=0;t<4;t++)this.m_DifficultyButtons[t].on("pointerup",(()=>this.events.emit("DifficultyButtonClick",t))),this.m_DifficultyButtons[t].setAlpha(0),this.m_Group_SelectDifficultyPanel.add(this.m_DifficultyButtons[t]);this.m_Tween_ShowDifficultyPanel=this.tweens.add({targets:this.m_Group_SelectDifficultyPanel.getChildren().map((function(t){return t})),alpha:1,duration:1e3,delay:500})}HandleDifficultyButtonClick(t){let e;switch(this.m_Group_SelectDifficultyPanel.setVisible(!1),t){case 0:e=u.Easy;break;case 1:e=u.Medium;break;case 2:e=u.Hard;break;case 3:e=u.Any;break;default:e=u.Easy}this.m_GameState=new F(e),this.Setup_GUI()}Setup_GUI(){this.m_Group_CardGroup=this.add.group(),this.m_Image_CardBG=this.add.image(this.scale.width/2,this.scale.height/2+60,"cardBG"),this.m_Image_CardBG.setScale(1.1),this.m_BtnUsed=new Array,this.m_CardButtons=[new r(this,this.scale.width/2-204,this.m_Image_CardBG.y,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fill:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2,this.m_Image_CardBG.y-204,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fill:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2+204,this.m_Image_CardBG.y,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fill:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2,this.m_Image_CardBG.y+204,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fill:"#FFFFFF"},"btn_numberBG")];for(let t=0;t<this.m_CardButtons.length;t++)this.m_CardButtons[t].SetDisabled(),this.m_CardButtons[t].on("pointerup",(()=>this.events.emit("NumberButtonClick",t))),this.m_BtnUsed[t]=!1,this.m_Group_CardGroup.add(this.m_CardButtons[t]);this.m_Btn_NewCard=new r(this,this.scale.width/2,this.m_Image_CardBG.y,.6,.6,"",{fontSize:32},"btn_playCard"),this.m_Btn_NewCard.on("pointerup",(()=>this.NewCard())),this.m_Group_CardGroup.add(this.m_Btn_NewCard),this.m_Array_PlayerButtons=[new r(this,128,128,.8,.8,"",{fontFamily:"Vertiky",fontSize:96},"btn_player1"),new r(this,this.scale.width-128,128,.8,.8,"",{fontFamily:"Vertiky",fontSize:96},"btn_player2"),new r(this,128,this.scale.height-128,.8,.8,"",{fontFamily:"Vertiky",fontSize:96},"btn_player3"),new r(this,this.scale.width-128,this.scale.height-128,.8,.8,"",{fontFamily:"Vertiky",fontSize:96},"btn_player4")];for(let t=0;t<4;t++)this.m_Array_PlayerButtons[t].SetDisabled(),this.m_Array_PlayerButtons[t].on("pointerup",(()=>this.events.emit("PlayerButtonClick",t)));switch(this.btnOperationAdd=new r(this,this.scale.width/2+580,this.scale.height/2-64,1,1,"",{fontSize:64},"btn_addition"),this.btnOperationAdd.on("pointerup",(()=>this.events.emit("OperationButtonClick","+"))),this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract=new r(this,this.scale.width/2+800,this.scale.height/2-64,1,1,"",{fontSize:64},"btn_subtraction"),this.btnOperationSubtract.on("pointerup",(()=>this.events.emit("OperationButtonClick","-"))),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply=new r(this,this.scale.width/2+580,this.scale.height/2+160,1,1,"",{fontSize:64},"btn_multiplication"),this.btnOperationMultiply.on("pointerup",(()=>this.events.emit("OperationButtonClick","x"))),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide=new r(this,this.scale.width/2+800,this.scale.height/2+160,1,1,"",{fontSize:64},"btn_division"),this.btnOperationDivide.on("pointerup",(()=>this.events.emit("OperationButtonClick","/"))),this.btnOperationDivide.SetDisabled(),this.m_Array_ExpressionBars=[new r(this,this.scale.width/2-420,this.m_Image_CardBG.y,.9,.7,"",{fontFamily:"Bubblegum",fontSize:48,color:"#FFFFFF"},"inputBar").SetAngle(-90),new r(this,this.scale.width/2,this.m_Image_CardBG.y-416,.9,.7,"",{fontFamily:"Bubblegum",fontSize:48,color:"#FFFFFF"},"inputBar"),new r(this,this.scale.width/2+420,this.m_Image_CardBG.y,.9,.7,"",{fontFamily:"Bubblegum",fontSize:48,color:"#FFFFFF"},"inputBar").SetAngle(90),new r(this,this.scale.width/2,this.m_Image_CardBG.y+416,.9,.7,"",{fontFamily:"Bubblegum",fontSize:48,color:"#FFFFFF"},"inputBar").SetAngle(180)],this.m_Array_ExpressionBars.forEach((t=>{t.SetDisabled(1)})),this.tweens.add({targets:this.btnGotoMenu,x:this.scale.width/2-256,repeat:0,ease:"Power1"}),this.m_GameState.mDifficulty){case u.Any:this.imageDifficulty=this.add.image(this.scale.width/2,-96,"btn_allDifficulties");break;case u.Easy:this.imageDifficulty=this.add.image(this.scale.width/2,-96,"btn_easy");break;case u.Medium:this.imageDifficulty=this.add.image(this.scale.width/2,-96,"btn_medium");break;case u.Hard:this.imageDifficulty=this.add.image(this.scale.width/2,-96,"btn_hard")}this.imageDifficulty.setScale(.7),this.tweens.add({targets:this.imageDifficulty,y:70,repeat:0,ease:"Power1"}),this.mMinicard1=new G(this,384,128,"    "),this.mMinicard2=new G(this,this.scale.width-384,128,"    "),this.mCountdownTimerImage=this.add.image(224,this.scale.height/2,"clockBG1"),this.mCountDownTimer=new m(this,12,this.NoTimeLeft.bind(this),316,this.scale.height/2,40,"00 : 12")}EnableNumberButtons(){for(let t=0;t<4;t++)!1===this.m_BtnUsed[t]&&this.m_CardButtons[t].SetEnabled()}DisableNumberButtons(){this.m_CardButtons.forEach((t=>{t.SetDisabled()}))}EnableOperationButtons(){this.btnOperationAdd.SetEnabled(),this.btnOperationSubtract.SetEnabled(),this.btnOperationMultiply.SetEnabled(),this.btnOperationDivide.SetEnabled()}DisableOperationButtons(){this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide.SetDisabled()}ShowPlayerWon(t){this.m_Array_ExpressionBars.forEach((e=>{e.SetText(t+" = 24"),e.SetTextColor("#00ff1a")})),this.m_Array_PlayerButtons[this.m_GameState.GetCurrentPlayer()].SetText(this.m_GameState.GetCurrentPlayerScore().toString())}ShowPlayerLost(t){this.m_Array_ExpressionBars.forEach((e=>{e.SetText(t+` = ${_(t)}`),e.SetTextColor("#ff2600")})),this.m_Array_PlayerButtons[this.m_GameState.GetCurrentPlayer()].SetText(this.m_GameState.GetCurrentPlayerScore().toString())}NoTimeLeft(){this.DisableNumberButtons(),this.DisableOperationButtons(),this.m_Array_ExpressionBars.forEach((t=>{t.SetTextColor("#ff2600")})),this.m_GameState.PunishCurrentPlayer(),this.m_Array_PlayerButtons[this.m_GameState.GetCurrentPlayer()].SetText(this.m_GameState.GetCurrentPlayerScore().toString()),this.m_Btn_NewCard.SetEnabled()}}class D{constructor(t){this.STYLE_TEXT=" style=\" \n        outline:black;\n        border:black;\n        background-color: transparent;\n        border-width: 1px;\n        font-size: 15px;\n        font-family: 'Vertiky';\n        text-align: center;\n        position: absolute;\n        \"\n    ";let e=`\n        <input type="text" name="username" ${this.STYLE_TEXT} >`,i=`\n        <input type="password" name="password" ${this.STYLE_TEXT}>`;this.usernameInput=t.add.dom(0,0).createFromHTML(e,"phaser-example"),this.usernameInput.setPosition(t.scale.width/2,t.scale.height/2),this.usernameInput.setScale(2.85,3.2),this.usernameInput.x-=150,this.usernameInput.y-=60,this.passwordInput=t.add.dom(0,0).createFromHTML(i,"phaser-example"),this.passwordInput.setPosition(t.scale.width/2,t.scale.height/2),this.passwordInput.setScale(2.85,3.2),this.passwordInput.x+=-150,this.passwordInput.y+=148,this.DisableForm()}GetUsername(){return this.usernameInput.getChildByName("username").value}GetPassword(){return this.passwordInput.getChildByName("password").value}EnableForm(){this.usernameInput.getChildByName("username").disabled=!1,this.passwordInput.getChildByName("password").disabled=!1}DisableForm(){let t=this.usernameInput.getChildByName("username");t.value="",t.disabled=!0;let e=this.passwordInput.getChildByName("password");e.value="",e.disabled=!0}SetFormPosition(t,e){this.usernameInput.setPosition(t,e),this.usernameInput.setPosition(t,e+256)}}!function(t){t[t.AboutGame=0]="AboutGame",t[t.HowToPlay=1]="HowToPlay",t[t.Credits=2]="Credits",t[t.Login=3]="Login"}(O||(O={}));class I extends a().Scene{constructor(){super("MainMenu")}preload(){}create(){this.add.sprite(this.scale.width/2,this.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height),this.add.sprite(this.scale.width/2-720,this.scale.height-283,"toon"),this.add.sprite(this.scale.width/2,160,"title").setScale(.7,.7),this.btnTabletMode=new r(this,this.scale.width-128,this.scale.height-64-672,.8,.8,"",{},"btn_tabletMode"),this.btnTabletMode.once("pointerup",(()=>this.StartMultiplayerGame())),this.btnFullscreenToggle=new r(this,this.scale.width-128,128,.8,.8,"",{},this.scale.isFullscreen?"fullscreenOff":"fullscreenOn"),this.btnFullscreenToggle.on("pointerup",(()=>this.ToggleFullscreen())),this.btnLeaderboards=new r(this,this.scale.width-128,this.scale.height-64-352,.8,.8,"",{},"btn_top"),this.btnLeaderboards.on("pointerup",(()=>this.StartRankingScene())),this.btnAboutGame=new r(this,this.scale.width-128,this.scale.height-64-192,.8,.8,"",{},"btn_about"),this.btnAboutGame.on("pointerup",(()=>this.ShowPanel(O.AboutGame))),this.howToPlayButton=new r(this,this.scale.width-128,this.scale.height-64-32,.8,.8,"",{},"btn_howToPlay"),this.howToPlayButton.on("pointerup",(()=>this.ShowPanel(O.HowToPlay))),this.btnCredits=new r(this,this.scale.width-128,this.scale.height-64-512,.8,.8,"",{},"btn_credits"),this.btnCredits.on("pointerup",(()=>this.ShowPanel(O.Credits))),this.btnPlaySoloEasy=new r(this,this.scale.width/2,this.scale.height/2-64,1.2,1.2,"",{},"btn_easy",0),this.btnPlaySoloEasy.on("pointerup",(()=>this.StartSoloGame(u.Easy))),this.btnPlaySoloMedium=new r(this,this.scale.width/2,this.scale.height/2+128,1.2,1.2,"",{},"btn_medium",0),this.btnPlaySoloMedium.on("pointerup",(()=>this.StartSoloGame(u.Medium))),this.btnPlaySoloHard=new r(this,this.scale.width/2,this.scale.height/2+320,1.2,1.2,"",{},"btn_hard",0),this.btnPlaySoloHard.on("pointerup",(()=>this.StartSoloGame(u.Hard))),this.SetupLoginLogoutButtons(),this.imgHowToPlay=this.add.image(this.scale.width/2,this.scale.height/2+140,"howToPlay"),this.imgHowToPlay.setScale(.4),this.imgHowToPlay.setAlpha(0),this.imgAboutTheGame=this.add.image(this.scale.width/2,this.scale.height/2+140,"aboutGame"),this.imgAboutTheGame.setScale(.4),this.imgAboutTheGame.setAlpha(0),this.imgCredits=this.add.image(this.scale.width/2,this.scale.height/2+140,"credits"),this.imgCredits.setScale(.4),this.imgCredits.setAlpha(0),this.imgLoginWindow=this.add.image(this.scale.width/2,this.scale.height/2+140,"loginBG"),this.imgLoginWindow.setScale(.4),this.imgLoginWindow.setAlpha(0),this.btnLogin=new r(this,this.scale.width/2,this.scale.height/2+360,1.2,1.2,"",{},"btn_login",0),this.btnLogin.SetDisabled(0),this.btnLogin.on("pointerup",(()=>this.PerformLogin())),this.btnClosePanel=new r(this,this.scale.width/2+400,this.scale.height/2-200,.8,.8,"",{},"btn_close"),this.btnClosePanel.on("pointerup",(()=>this.HidePanel())),this.btnClosePanel.setAlpha(0),this.groupPanel=this.add.group([this.imgAboutTheGame,this.imgHowToPlay,this.imgCredits,this.btnClosePanel,this.imgLoginWindow]),this.groupPanel.setAlpha(0),this.isPanelOpen=!1,this.SetupLoginForm()}StartSoloGame(t){console.log(`Starting solo game on ${t} difficulty.`),this.scene.start("SoloGame",{difficulty:t})}StartMultiplayerGame(){this.scene.start("MultiplayerGame")}StartRankingScene(){this.scene.start("RankingScene")}ShowPanel(t){if(!this.isPanelOpen){switch(t){case O.AboutGame:this.PlayTween_ShowPanel(O.AboutGame);break;case O.HowToPlay:this.PlayTween_ShowPanel(O.HowToPlay);break;case O.Credits:this.PlayTween_ShowPanel(O.Credits);break;case O.Login:this.PlayTween_ShowPanel(O.Login)}this.isPanelOpen=!0}}HidePanel(){this.isPanelOpen=!1,this.PlayTween_HidePanel()}ToggleFullscreen(){this.scale.isFullscreen?(this.scale.stopFullscreen(),this.btnFullscreenToggle.SetImage("fullscreenOn")):(this.scale.startFullscreen(),this.btnFullscreenToggle.SetImage("fullscreenOff"))}PlayTween_ShowPanel(t){let e;switch(console.log("Opening panel: "),console.log(t),t){case O.Login:e=this.imgLoginWindow;break;case O.HowToPlay:e=this.imgHowToPlay;break;case O.AboutGame:e=this.imgAboutTheGame;break;case O.Credits:e=this.imgCredits}let i=this.tweens.add({targets:[this.groupPanel,e,t==O.Login?this.btnLogin:void 0],alpha:1,scale:t==O.Login?1.7:1.5,ease:"Power1",duration:500,onCompleteScope:this.OnPanelTweenComplete(t)});this.tweens.add({targets:this.btnClosePanel,alpha:1,ease:"Power1",duration:300,delay:400}),this.DisableSoloGameButtons(),t==O.Login&&(this.btnLogin.SetEnabled(1),this.loginForm.EnableForm()),i.on}PlayTween_HidePanel(){this.tweens.add({targets:[this.imgAboutTheGame,this.imgCredits,this.imgHowToPlay,this.imgLoginWindow,this.btnClosePanel,this.btnLogin],alpha:0,scale:.4,ease:"Power1",duration:100}),this.EnableSoloGameButtons(),this.btnLogin.SetDisabled(0),this.loginForm.DisableForm()}EnableSoloGameButtons(){this.btnPlaySoloEasy.SetEnabled(1),this.btnPlaySoloMedium.SetEnabled(1),this.btnPlaySoloHard.SetEnabled(1)}DisableSoloGameButtons(){this.btnPlaySoloEasy.SetDisabled(1),this.btnPlaySoloMedium.SetDisabled(1),this.btnPlaySoloHard.SetDisabled(1)}OnPanelTweenComplete(t){O.Login}PerformLogin(){console.log("Performing login with username "+this.loginForm.GetUsername()),console.log("Performing login with password "+this.loginForm.GetPassword()),x.Login(this.loginForm.GetUsername(),this.loginForm.GetPassword()).then((t=>{w.LoginWithData(t)?(console.log("Login was successfull!"),this.btnLogout.SetEnabled(1),this.btnStartLogin.SetDisabled(0)):console.log("Login failed!")})).catch((t=>{console.log(t),console.log("Failed to connect to login")}))}PerformLogout(){this.btnLogout.SetDisabled(0),this.btnStartLogin.SetEnabled(1),console.log("Performing logout"),console.log("Performing logout"),x.DestroySession(),w.GetLocalData()}SetupLoginLogoutButtons(){this.btnStartLogin=new r(this,this.scale.width-384,128,.85,.85,"",{},"btn_start_login",0),this.btnStartLogin.on("pointerup",(()=>this.ShowPanel(O.Login))),this.btnLogout=new r(this,this.scale.width-384,128,.85,.85,"",{},"btn_logout",0),this.btnLogout.on("pointerup",(()=>this.PerformLogout())),w.IsLoggedIn()?this.btnStartLogin.SetDisabled(0):this.btnLogout.SetDisabled(0)}SetupLoginForm(){this.loginForm=new D(this)}}class A{constructor(t,e){e.scene&&(e.rows||(e.rows=3),e.cols||(e.cols=3),e.width||(e.width=t.config.width),e.height||(e.height=t.config.height),this.h=e.height,this.w=e.width,this.rows=e.rows,this.cols=e.cols,this.cw=this.w/this.cols,this.ch=this.h/this.rows,this.scene=e.scene)}placeAt(t,e,i){var s=this.cw*t+this.cw/2,n=this.ch*e+this.ch/2;i.x=s,i.y=n}show(t=1){this.graphics=this.scene.add.graphics(),this.graphics.lineStyle(4,"black",t);for(var e=0;e<this.w;e+=this.cw)this.graphics.moveTo(e,0),this.graphics.lineTo(e,this.h);for(e=0;e<this.h;e+=this.ch)this.graphics.moveTo(0,e),this.graphics.lineTo(this.w,e);this.graphics.strokePath()}placeAtIndex(t,e){var i=Math.floor(t/this.cols),s=t-i*this.cols;this.placeAt(s,i,e)}showNumbers(t=1){this.show(t);for(var e=0,i=0;i<this.rows;i++)for(var s=0;s<this.cols;s++){var n=this.scene.add.text(0,0,e,{color:"black"});n.setOrigin(.5,.5),this.placeAt(s,i,n),e++}}getIndexPos(t){var e=Math.floor(t/this.cols),i=t-e*this.cols,s=this.cw*i+this.cw/2,n=this.ch*e+this.ch/2,a={};return a.x=s,a.y=n,a}}class E extends a().Scene{constructor(){super("RankingScene")}preload(){this.load.scenePlugin({key:"rexuiplugin",url:"src/scripts/RexUI/rexuiplugin.min.js",sceneKey:"rexUI"})}init(){var t=new Date,e=t.getMonth(),i=t.getFullYear();if(e>7)var s=i,n=i+1;else s=i-1,n=i;this.di=s+"-09-01",this.df=n+"-08-31",this.dificulty=1,this.flag=2,x.GetTOP(this.di,this.df,"","",1).then((t=>{let e=function(t){let e=[],i=0;t=t.split("&");for(let s=0;s<t.length;s++)t[s]=t[s].split("=")[1],s%5==0&&(i++,t[s]=t[s].split(" "),1==t[s].length?t[s]=t[s][0]:t[s]=t[s][0]+" "+t[s][t[s].length-1],e.push(i)),s%5==2&&(t[s]=t[s].replace("Agrupamento de Escolas","A.E.")),e.push(t[s]);return e}(t);this.array=e,this.CompleteScene()})).catch((t=>{console.log(t),console.log("Failed to retrieve TOP")}))}CompleteScene(){this.add.image(this.scale.width/2,this.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height),this.title=this.add.image(this.scale.width/2,112,"title"),this.title.setScale(.6,.6);const t={scene:this,cols:15,rows:15};let e,i;this.m_AlignGrid=new A(this.game,t),this.mCurrentDate=new Date,this.mCurrentDate.getMonth(),this.mCurrentDate.getFullYear(),this.CreateTable(0),this.Setup_Button_Back(),this.container=this.rexUI.add.roundRectangle(0,0,216,768,10,15178054),this.m_AlignGrid.placeAtIndex(133,this.container),this.container.x+=32,this.container.y-=10,this.lastclick,this.dropdown=this.rexUI.add.gridTable({x:1750,y:400,width:180,height:250,scrollMode:0,table:{cellWidth:100,cellHeight:50,columns:1,mask:{padding:2,updateMode:0},reuseCellContainer:!0},slider:{track:this.rexUI.add.roundRectangle(0,0,10,10,10,2493956),thumb:this.rexUI.add.roundRectangle(0,0,32,32,13,13130754)},space:{left:20,right:0,top:20,bottom:20,table:10,header:10,footer:10},createCellContainerCallback:(t,s)=>{var n=t.scene,a=t.width,o=t.height,r=t.item,h=(t.index,s=n.rexUI.add.label({width:a,height:o,orientation:0,icon:n.add.circle(0,50,10).setFillStyle("0xffffff"),text:n.add.text(50,50,r,{fontFamily:"Bubblegum",fontSize:25,color:"black",align:"center"}),align:"center",space:{icon:20}}),this.mCurrentDate.getMonth()),l=this.mCurrentDate.getFullYear();h>7?(e=l,i=l+1):(e=l-1,i=l);let m=e.toString(),c=i.toString();s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>{n.lastclick&&n.lastclick.setFillStyle("0xffffff"),n.lastclick=s.getElement("icon").setFillStyle("0x000000"),"Todos"!=s.getElement("text")._text?(n.di="20"+s.getElement("text")._text.split("-")[0]+"-9-1",n.df="20"+s.getElement("text")._text.split("-")[1]+"-8-31"):(n.di="2015-09-01",n.df=(new Date).toISOString().slice(0,10)),this.UpdateTop()}));let d=m.slice(2,4)+"-"+c.slice(2,4);return s.getElement("text")._text==d&&(n.lastclick=s.getElement("icon").setFillStyle("0x000000")),s},items:this.selectYear()}).layout(),this.ano=new o(this,0,0,"Ano Letivo",{fontFamily:"Folks-Bold",fontSize:32,color:"#403217",align:"center"}),this.m_AlignGrid.placeAtIndex(58,this.ano),this.ano.x+=32,this.ano.y+=16,this.dificil=new o(this,0,0,"Dificil",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.m_AlignGrid.placeAtIndex(133,this.dificil),this.dificil.x+=22,this.hard_icon=this.add.circle(0,0,10,16777215),this.m_AlignGrid.placeAtIndex(133,this.hard_icon),this.hard_icon.x-=32,this.normal=new o(this,0,0,"Normal",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.m_AlignGrid.placeAtIndex(133,this.normal),this.normal.x+=32,this.normal.y+=35,this.normal_icon=this.add.circle(0,0,10,16777215),this.m_AlignGrid.placeAtIndex(133,this.normal_icon),this.normal_icon.x-=32,this.normal_icon.y+=35,this.facil=new o(this,0,0,"Fácil",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.m_AlignGrid.placeAtIndex(148,this.facil),this.facil.x+=22,this.easy_icon=this.add.circle(0,0,10,16777215),this.m_AlignGrid.placeAtIndex(148,this.easy_icon),this.easy_icon.x-=32,this.dificuldade=new o(this,0,0,"Dificuldade",{fontFamily:"Folks-Bold",fontSize:32,color:"#403217",align:"center"}),this.m_AlignGrid.placeAtIndex(118,this.dificuldade),this.dificuldade.x+=32,this.dificuldade.y+=28,this.facil.setInteractive({useHandCursor:!0}),this.facil.input.hitArea.setTo(-50,-5,this.facil.width+60,this.facil.height),this.facil.on("pointerdown",(()=>{this.hard_icon.setFillStyle("0xffffff"),this.normal_icon.setFillStyle("0xffffff"),this.easy_icon.setFillStyle("0x000000"),this.dificulty=1,this.UpdateTop()})),this.normal.setInteractive({useHandCursor:!0}),this.normal.input.hitArea.setTo(-50,-5,this.normal.width+60,this.normal.height),this.normal.on("pointerdown",(()=>{this.hard_icon.setFillStyle("0xffffff"),this.normal_icon.setFillStyle("0x000000"),this.easy_icon.setFillStyle("0xffffff"),this.dificulty=2,this.UpdateTop()})),this.dificil.setInteractive({useHandCursor:!0}),this.dificil.input.hitArea.setTo(-50,-5,this.dificil.width+60,this.dificil.height),this.dificil.on("pointerdown",(()=>{this.hard_icon.setFillStyle("0x000000"),this.normal_icon.setFillStyle("0xffffff"),this.easy_icon.setFillStyle("0xffffff"),this.dificulty=3,this.UpdateTop()})),this.filtro=new o(this,0,0,"Filtro",{fontFamily:"Folks-Bold",fontSize:32,color:"#403217",align:"center"}),this.m_AlignGrid.placeAtIndex(163.3,this.filtro),this.filtro.y+=32,this.turma_filtro=new o(this,0,0,"Turma",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.m_AlignGrid.placeAtIndex(193.2,this.turma_filtro),this.turma_icon=this.add.circle(0,0,10,16777215),this.m_AlignGrid.placeAtIndex(193,this.turma_icon),this.turma_icon.x-=32,this.escola_filtro=new o(this,0,0,"Escola",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.m_AlignGrid.placeAtIndex(178.2,this.escola_filtro),this.escola_filtro.y+=35,this.escola_icon=this.add.circle(0,0,10,16777215),this.m_AlignGrid.placeAtIndex(178,this.escola_icon),this.escola_icon.x-=32,this.escola_icon.y+=35,this.todos=new o(this,0,0,"Todos",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.m_AlignGrid.placeAtIndex(178.2,this.todos),this.todos_icon=this.add.circle(0,0,10,16777215),this.m_AlignGrid.placeAtIndex(178,this.todos_icon),this.todos_icon.x-=32,this.todos.setInteractive({useHandCursor:!0}),this.todos.input.hitArea.setTo(-50,-5,this.todos.width+60,this.todos.height),this.todos.on("pointerdown",(()=>{this.todos_icon.setFillStyle("0x000000"),this.escola_icon.setFillStyle("0xffffff"),this.turma_icon.setFillStyle("0xffffff"),this.flag=2,this.UpdateTop()})),this.escola_filtro.setInteractive({useHandCursor:!0}),this.escola_filtro.input.hitArea.setTo(-50,-5,this.escola_filtro.width+60,this.escola_filtro.height),this.escola_filtro.on("pointerdown",(()=>{this.todos_icon.setFillStyle("0xffffff"),this.escola_icon.setFillStyle("0x000000"),this.turma_icon.setFillStyle("0xffffff"),this.flag=1,this.UpdateTop()})),this.turma_filtro.setInteractive({useHandCursor:!0}),this.turma_filtro.input.hitArea.setTo(-50,-5,this.turma_filtro.width+60,this.turma_filtro.height),this.turma_filtro.on("pointerdown",(()=>{this.todos_icon.setFillStyle("0xffffff"),this.escola_icon.setFillStyle("0xffffff"),this.turma_icon.setFillStyle("0x000000"),this.flag=0,this.UpdateTop()})),this.todos_icon.setFillStyle("0x000000"),this.easy_icon.setFillStyle("0x000000"),""==w.GetUser()&&(this.filtro.visible=!1,this.turma_filtro.visible=!1,this.turma_icon.visible=!1,this.escola_filtro.visible=!1,this.escola_icon.visible=!1,this.todos.visible=!1,this.todos_icon.visible=!1),this.events.on("transitionstart",((t,e)=>{this.table.y+=this.scale.height,this.jogador.y+=this.scale.height,this.pontos.y+=this.scale.height,this.escola.y+=this.scale.height,this.turma.y+=this.scale.height,this.dataC.y+=this.scale.height,this.dropdown.y+=this.scale.height,this.ano.y+=this.scale.height,this.dificil.y+=this.scale.height,this.hard_icon.y+=this.scale.height,this.normal.y+=this.scale.height,this.normal_icon.y+=this.scale.height,this.facil.y+=this.scale.height,this.easy_icon.y+=this.scale.height,this.dificuldade.y+=this.scale.height,this.filtro.y+=this.scale.height,this.turma_filtro.y+=this.scale.height,this.turma_icon.y+=this.scale.height,this.escola_filtro.y+=this.scale.height,this.escola_icon.y+=this.scale.height,this.todos.y+=this.scale.height,this.todos_icon.y+=this.scale.height,this.container.y+=this.scale.height,this.tweens.add({delay:1e3,targets:[this.table,this.jogador,this.pontos,this.escola,this.turma,this.dataC,this.dropdown,this.ano,this.dificil,this.hard_icon,this.normal,this.normal_icon,this.facil,this.easy_icon,this.dificuldade,this.filtro,this.turma_filtro,this.turma_icon,this.escola_filtro,this.escola_icon,this.todos,this.todos_icon,this.container],duration:5e3,y:"-="+this.scale.height,ease:"Power2"})}),this),this.jogador=new o(this,0,0,"Jogador",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.pontos=new o(this,0,0,"Pontos",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.escola=new o(this,0,0,"Escola",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.turma=new o(this,0,0,"Turma",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.dataC=new o(this,0,0,"Data",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.m_AlignGrid.placeAtIndex(61,this.jogador),this.m_AlignGrid.placeAtIndex(63,this.pontos),this.pontos.x-=20,this.m_AlignGrid.placeAtIndex(66,this.escola),this.escola.x+=45,this.m_AlignGrid.placeAtIndex(69,this.turma),this.turma.x+=130,this.m_AlignGrid.placeAtIndex(71,this.dataC),this.dataC.x+=50}CreateTable(t){this.table=this.rexUI.add.gridTable({x:848,y:this.scale.height/2+64,width:1560,height:768,scrollMode:t,background:this.rexUI.add.roundRectangle(-100,0,8,10,10,15178054),table:{cellWidth:50,cellHeight:50,columns:6,mask:{padding:2,updateMode:0},reuseCellContainer:!0},slider:{track:this.rexUI.add.roundRectangle(0,0,18,10,10,2493956),thumb:this.rexUI.add.roundRectangle(0,0,32,32,13,13130754)},space:{left:10,right:26,top:132,bottom:30,table:10,header:10,footer:10},createCellContainerCallback:function(t,e){let i;t.index%6==0&&(i=10),t.index%6==1&&(i=10),t.index%6==2&&(i=500),t.index%6==3&&(i=1305),t.index%6==4&&(i=2140),t.index%6==5&&(i=2370);var s=t.scene,n=i,a=t.height,o=t.item;return t.index,s.rexUI.add.label({width:n,height:a,orientation:"top-to-bottom",text:s.add.text(50,50,o.name,{fontFamily:"Bubblegum",fontSize:21,color:"#000000",align:"center"}),align:"center"})},items:this.CreateItems(600)}).layout()}CreateItems(t){for(var e=new Array,i=0;i<t;i++)""!=this.array[i]&&e.push({name:this.array[i]});return this.array.length<4?[]:e}selectYear(){var t=new Array,e=new Date,i=e.getMonth(),s=e.getFullYear();if(i>7)var n=s+1;else n=s;let a=15;for(let e=2015;e<n;e++)t.push(a.toString()+"-"+(a+1).toString()),a++;return t.push("Todos"),t.reverse()}Setup_Button_Back(){this.m_btn_BackToMenu=new r(this,96,96,.6,.6,"",{},"btn_gotoMenu"),this.m_btn_BackToMenu.on("pointerup",(()=>this.scene.start("MainMenu")))}UpdateTop(){console.log("\n ====== Making DB connection: ========="),console.log(`Di: ${this.di}`),console.log(`Df: ${this.df}`),console.log(`flag: ${this.flag}`),console.log(`Difficulty: ${this.dificulty}`),x.UpdateTOP(this.di,this.df,this.flag,this.dificulty).then((t=>{let e=function(t){let e=[],i=0;t=t.split("&");for(let s=0;s<t.length;s++)t[s]=t[s].split("=")[1],s%5==0&&(i++,t[s]=t[s].split(" "),1==t[s].length?t[s]=t[s][0]:t[s]=t[s][0]+" "+t[s][t[s].length-1],e.push({name:i})),s%5==2&&(t[s]=t[s].replace("Agrupamento de Escolas","A.E.")),e.push({name:t[s]});return e}(t);e.length<4?this.table.setItems([]):this.table.setItems(e),this.table.refresh()})).catch((function(t){console.log(t),console.log("Failed here"),alert("Não foi possível estabellecer ligação. Por favor tente mais tarde.")}))}}class v extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image("blueBackground","assets/img/common/background0.png"),this.load.image("btn_undo","assets/img/common/voltaratrasBT.png"),this.load.image("btn_reset","assets/img/common/refreshBT.png"),this.load.image("title","assets/img/common/titulo1.png"),this.load.image("toon","assets/img/common/boneco.png"),this.load.image("fullscreenOn","assets/img/main_menu/fullscreenBT-1.png"),this.load.image("fullscreenOff","assets/img/main_menu/fullscreenBT-2.png"),this.load.image("btn_easy","assets/img/main_menu/facilBT.png"),this.load.image("btn_medium","assets/img/main_menu/medioBT.png"),this.load.image("btn_hard","assets/img/main_menu/dificilBT.png"),this.load.image("btn_about","assets/img/main_menu/sobreojogoBT.png"),this.load.image("btn_howToPlay","assets/img/main_menu/instrucoesBT.png"),this.load.image("btn_top","assets/img/main_menu/topBT.png"),this.load.image("btn_tabletMode","assets/img/main_menu/modotabletBT.png"),this.load.image("btn_credits","assets/img/main_menu/creditosBT.png"),this.load.image("aboutGame","assets/img/main_menu/sobreojogoMC.png"),this.load.image("howToPlay","assets/img/main_menu/instrucoesMC.png"),this.load.image("credits","assets/img/main_menu/creditosMC.png"),this.load.image("btn_close","assets/img/main_menu/closeBT.png"),this.load.image("btn_start_login","assets/img/main_menu/startLogin.png"),this.load.image("btn_login","assets/img/main_menu/performLogin.png"),this.load.image("btn_logout","assets/img/main_menu/logout.png"),this.load.image("loginBG","assets/img/main_menu/loginWindow.png"),this.load.image("smallTitle","assets/img/solo_game/titulo2-peq.png"),this.load.image("btn_playCard","assets/img/solo_game/playCard.png"),this.load.image("btn_gotoMenu","assets/img/solo_game/retmenuBT.png"),this.load.image("clockBG1","assets/img/solo_game/relogio.png"),this.load.image("clockBG2","assets/img/solo_game/relogioN.png"),this.load.image("correctCounter","assets/img/solo_game/assinalaCertos.png"),this.load.image("wrongCounter","assets/img/solo_game/assinalaErrados.png"),this.load.image("inputBar","assets/img/common/barra.png"),this.load.image("cardBG","assets/img/solo_game/cardBackground.png"),this.load.image("btn_numberBG","assets/img/common/numeroBTBG.png"),this.load.image("btn_addition","assets/img/solo_game/opAdicao.png"),this.load.image("btn_subtraction","assets/img/solo_game/opSubtracao.png"),this.load.image("btn_multiplication","assets/img/solo_game/opMultiplicacao.png"),this.load.image("btn_division","assets/img/solo_game/opDivisao.png"),this.load.image("gameEndBGg","assets/img/solo_game/finalDoJogo.png"),this.load.image("btn_allDifficulties","assets/img/multiplayer_game/todosBT.png"),this.load.image("textImage_rules","assets/img/multiplayer_game/textoi.png"),this.load.image("textImage_pickDiff","assets/img/multiplayer_game/textoi2.png"),this.load.image("btn_player1","assets/img/multiplayer_game/btt1.png"),this.load.image("btn_player2","assets/img/multiplayer_game/btt2.png"),this.load.image("btn_player3","assets/img/multiplayer_game/btt3.png"),this.load.image("btn_player4","assets/img/multiplayer_game/btt4.png"),this.load.image("sliderThumb","assets/img/common/numeroBTBG.png")}create(){this.PreloadFonts(),this.scene.start("MainMenu")}PreloadFonts(){this.add.text(0,0,"DEFAULT",{font:"1px Vertiky"}).setVisible(!1),this.add.text(0,0,"DEFAULT",{font:"1px Folks-Normal"}).setVisible(!1),this.add.text(0,0,"DEFAULT",{font:"1px Folks-Bold"}).setVisible(!1),this.add.text(0,0,"DEFAULT",{font:"1px Bubblegum"}).setVisible(!1)}}var L=i(451);const N={type:Phaser.AUTO,backgroundColor:"#ffffff",dom:{createContainer:!0},scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:1920,height:1080},antialias:!0,scene:[v,I,P,k,E],plugins:{scene:[{key:"rexUI",plugin:L.Z,mapping:"rexUI"}]}};new Phaser.Game(N).scale.fullscreenTarget=document.getElementById("phaser-game"),w.GetInstance()},42:()=>{}},i={};function s(t){var n=i[t];if(void 0!==n)return n.exports;var a=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,s.amdD=function(){throw new Error("define cannot be used indirect")},s.amdO={},t=[],s.O=(e,i,n,a)=>{if(!i){var o=1/0;for(l=0;l<t.length;l++){for(var[i,n,a]=t[l],r=!0,h=0;h<i.length;h++)(!1&a||o>=a)&&Object.keys(s.O).every((t=>s.O[t](i[h])))?i.splice(h--,1):(r=!1,a<o&&(o=a));r&&(t.splice(l--,1),e=n())}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[i,n,a]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={179:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var n,a,[o,r,h]=i,l=0;for(n in r)s.o(r,n)&&(s.m[n]=r[n]);for(h&&h(s),e&&e(i);l<o.length;l++)a=o[l],s.o(t,a)&&t[a]&&t[a][0](),t[o[l]]=0;s.O()},i=self.webpackChunkphaser_project_template=self.webpackChunkphaser_project_template||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var n=s.O(void 0,[216],(()=>s(785)));n=s.O(n)})();