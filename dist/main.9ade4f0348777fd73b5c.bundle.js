(()=>{var t,e={928:(t,e,i)=>{"use strict";var s,a=i(260),n=i.n(a);!function(t){t[t.Simple=0]="Simple",t[t.Header=1]="Header"}(s||(s={}));class o extends n().GameObjects.Text{constructor(t,e,i,s,a){a.color||(a.color="#292d33"),super(t,e,i,s,a),this.setOrigin(.5,.5),t.add.existing(this)}}class r extends n().GameObjects.Sprite{constructor(t,e,i,s,a,n,l,h,c){var d;if(super(t,e,i,h),this.mID=r.NEXT_BUTTON_ID,r.NEXT_BUTTON_ID++,this.mCurrentScene=t,t.add.existing(this),this.setScale(s,a),this.m_OriginalScale=this.scale,void 0!==n&&void 0!==l&&(this.m_TextObject=new o(t,e,i,n,l)),null===(d=this.m_TextObject)||void 0===d||d.setOrigin(.5),this.SetEnabled(),void 0===c){const t=[-6,-5,-4,4,5,6];this.m_RandomHoverAngle=t[Math.floor(Math.random()*t.length)]}else this.m_RandomHoverAngle=c;this.SetupButtonPressAnimation()}SetText(t){this.m_TextObject.setText(t)}NumberButtonSetText(t){this.m_TextObject.setText(t),this.UpdateFontSize()}GetText(){return this.m_TextObject.text}SetEnabled(t=1){this.setInteractive({cursor:"pointer"}),this.m_TextObject.setAlpha(t),this.setAlpha(t),this.m_IsEnabled=!0}SetDisabled(t=.3){this.disableInteractive(),this.m_TextObject.setAlpha(t),this.setAlpha(t),this.m_IsEnabled=!1}IsEnabled(){return this.m_IsEnabled}SetAngle(t){return this.setAngle(t),this.m_TextObject.setAngle(t),this}SetScale(t,e){this.setScale(t,e),this.m_TextObject.setScale(t,e)}FlipY(t){this.setFlipY(t),this.setFlipX(t),this.m_TextObject.setFlipY(t),this.m_TextObject.setFlipX(t)}SetupButtonOutAnimation(){this.m_Tween_ButtonOut=this.mCurrentScene.tweens.add({targets:this,props:{scale:this.m_OriginalScale,angle:0},ease:"Power1",duration:40,paused:!0,delay:60}),this.on("pointerout",(()=>this.m_Tween_ButtonOut.play()))}SetupButtonHoverAnimation(){this.m_Tween_ButtonHover=this.mCurrentScene.tweens.add({targets:this,props:{scale:this.m_OriginalScale+.2,angle:this.m_RandomHoverAngle},ease:"Power1",duration:40,paused:!0}),this.on("pointerover",(()=>this.m_Tween_ButtonHover.play()))}SetupButtonPressAnimation(){this.m_Tween_ButtonPress=this.mCurrentScene.tweens.add({targets:[this,this.m_TextObject],props:{scale:this.m_OriginalScale-.2},ease:"Power1",duration:70,paused:!0,yoyo:!0}),this.on("pointerup",(()=>{this.m_Tween_ButtonPress.play()}))}HideShape(){this.setVisible(!1),this.m_TextObject.setVisible(!0)}SetTextColor(t){this.m_TextObject.setColor(t)}PlayCorrectExpressionTween(){this.scene.tweens.add({targets:[this,this.m_TextObject],y:this.mCurrentScene.scale.height/2,scale:2,duration:1e3,ease:"Elastic.InOut",easeParams:[1.5,.5],delay:0,yoyo:!0})}PlayIncorrectExpressionTween(){this.scene.tweens.add({targets:[this,this.m_TextObject],y:this.y+64,scale:1.4,duration:250,ease:"Elastic.InOut",easeParams:[2,2],delay:0,yoyo:!0})}SetFontSize(t){this.m_TextObject.setFontSize(t)}SetImage(t){this.setTexture(t)}UpdateFontSize(){let t=0;t=1===this.m_TextObject.text.length||0===this.m_TextObject.text.length?128:128/(.4*this.m_TextObject.text.length),t<38&&(t=38),this.m_TextObject.setFontSize(t)}}r.NEXT_BUTTON_ID=0;const l=JSON.parse('{"A":{"1118":"(1+1+1)*8","1126":"(1+1)*6*2","1127":"(7+1)*(2+1)","1128":"(2+1)*8*1","1129":"(9-1)*(2+1)","1134":"(1+1)*4*3","1135":"(5+1)*(3+1)","1136":"(6+1+1)*3","1137":"(7-1)*(3+1)","1138":"8*3+1-1","1139":"(9+3)*(1+1)","1144":"(4+1+1)*4","1145":"(4+1)*5-1","1146":"6*4+1-1","1147":"(7-1)*4*1","1148":"(8+4)*(1+1)","1149":"(9-1)*(4-1)","1155":"(5+1)*(5-1)","1156":"(5-1)*6*1","1157":"(7+5)*(1+1)","1158":"(5-1-1)*8","1166":"(6+6)*(1+1)","1168":"8*6/(1+1)","1169":"(1+1)*9+6","1188":"(1+1)*8+8","1224":"(2+1)*4*2","1225":"(5+1)*(2+2)","1226":"(6+2)*(2+1)","1227":"(7-1)*(2+2)","1228":"(2+2-1)*8","1229":"(9+2+1)*2","1233":"(3+1)*3*2","1234":"(3+2+1)*4","1235":"(5+3)*(2+1)","1236":"(3+2-1)*6","1237":"7*3+2+1","1238":"(2-1)*8*3","1239":"9*3-2-1","1244":"(4+4)*(2+1)","1245":"(5+2-1)*4","1246":"(2-1)*6*4","1247":"(7+1-2)*4","1248":"(8+4)*2*1","1249":"(9-2-1)*4","1255":"5*5+1-2","1256":"(5+1-2)*6","1257":"(7+5)*2*1","1258":"(5+1)*8/2","1259":"(2+1)*5+9","1266":"(2+1)*6+6","1267":"(7-2-1)*6","1268":"(6-2-1)*8","1269":"(9-1)*6/2","1277":"(7*7-1)/2","1278":"8*2+7+1","1279":"9*2+7-1","1288":"(8*2+8)*1","1289":"9*8/(2+1)","1333":"(3+3)*(3+1)","1334":"(4+3+1)*3","1335":"(5+3)*3*1","1336":"(6+3-1)*3","1337":"(7*3+3)*1","1338":"(8+1)*3-3","1339":"(9-3)*(3+1)","1344":"(4+4)*3*1","1345":"5*4+3+1","1346":"6/(1-3/4)","1347":"7*4-3-1","1348":"(3+1)*4+8","1349":"(4+1)*3+9","1356":"6*3+5+1","1357":"(7+5)*(3-1)","1358":"(5+1-3)*8","1359":"(9-3)*(5-1)","1366":"(6+1-3)*6","1367":"(7-3)*6*1","1368":"(8-3-1)*6","1369":"(3-1)*9+6","1377":"(7-1)*(7-3)","1378":"(7-3-1)*8","1379":"(7+1)*9/3","1388":"(3+1)*8-8","1389":"9*8*1/3","1399":"(9-1)*9/3","1444":"(4+1)*4+4","1445":"(5*4+4)*1","1446":"(6+1)*4-4","1447":"4*4+7+1","1448":"(8-1)*4-4","1449":"(9+1-4)*4","1455":"5*4+5-1","1456":"6/(5/4-1)","1457":"7*4+1-5","1458":"(5+1)*(8-4)","1459":"(4-1)*5+9","1466":"(4+1)*6-6","1467":"(7+1-4)*6","1468":"(6+1-4)*8","1469":"(9-4-1)*6","1477":"(7+1)*(7-4)","1478":"8*4-7-1","1479":"(9-1)*(7-4)","1488":"(8-4-1)*8","1489":"9*8/(4-1)","1555":"(5-1/5)*5","1556":"6*5-5-1","1559":"(5+1)*(9-5)","1566":"(6*5-6)*1","1567":"6*5+1-7","1568":"(8+1-5)*6","1569":"(9-5)*6*1","1578":"(7+1-5)*8","1579":"(7-1)*(9-5)","1588":"(5-1)*8-8","1589":"(9-5-1)*8","1599":"9+9+5+1","1666":"(6-1)*6-6","1668":"6/(1-6/8)","1669":"(9+1-6)*6","1679":"(7+1)*(9-6)","1688":"(8+1-6)*8","1689":"9+8+6+1","1699":"(9-1)*(9-6)","1779":"9+7+7+1","1788":"8+8+7+1","1789":"(9+1-7)*8","1799":"9+9+7-1","1888":"(8+8+8)*1","1889":"9+8+8-1","2223":"(2+2)*3*2","2224":"(4+2)*(2+2)","2225":"(5*2+2)*2","2227":"(7*2-2)*2","2228":"(8-2)*(2+2)","2229":"(9+2)*2+2","2233":"(3+3)*(2+2)","2234":"(4+2+2)*3","2235":"(5*2-2)*3","2236":"(2/2+3)*6","2237":"(2/2+7)*3","2238":"8*3+2-2","2239":"(9-3)*(2+2)","2244":"(4*2-2)*4","2245":"5*4+2+2","2246":"6*4+2-2","2247":"7*4-2-2","2248":"(2+2)*4+8","2249":"9*2+4+2","2255":"5*5-2/2","2256":"(5-2/2)*6","2257":"7*2+5*2","2258":"(8+5)*2-2","2259":"(9+5-2)*2","2266":"(6+2)*6/2","2267":"(7+2)*2+6","2268":"(8-2-2)*6","2269":"(6/2+9)*2","2277":"(7+7-2)*2","2278":"(7-2-2)*8","2288":"(2+2)*8-8","2289":"9*2+8-2","2333":"(3+3+2)*3","2335":"(5+2)*3+3","2336":"6*3+3*2","2337":"(7-3)*3*2","2338":"(3*2-3)*8","2339":"(3+2)*3+9","2344":"(3+2)*4+4","2345":"(5+3-2)*4","2346":"(3-2)*6*4","2347":"(7+2-3)*4","2348":"(8-4)*3*2","2349":"9*4*2/3","2355":"5*5+2-3","2356":"6*5-3*2","2357":"7*3+5-2","2358":"8*2+5+3","2359":"(9-5)*3*2","2366":"(3+2)*6-6","2367":"7*6/2+3","2368":"(8+2)*3-6","2369":"(9-3-2)*6","2377":"7*2+7+3","2378":"(7+2)*8/3","2379":"(9+7)*3/2","2388":"(8-3-2)*8","2389":"(9-3*2)*8","2399":"3*2+9+9","2444":"4*4+4*2","2445":"(5+2)*4-4","2446":"(4*2-4)*6","2447":"(7-4)*4*2","2448":"(4+2)*(8-4)","2449":"(9-2)*4-4","2455":"(5+5)*2+4","2456":"6*5-4-2","2457":"(7+5)*(4-2)","2458":"(8-5)*4*2","2459":"(4+2)*(9-5)","2466":"(6+2-4)*6","2467":"(6+2)*(7-4)","2468":"8*6/(4-2)","2469":"(9-6)*4*2","2477":"(7+7)*2-4","2478":"(7*2-8)*4","2479":"4*2+9+7","2488":"4*2+8+8","2489":"(9-4-2)*8","2499":"9+9+4+2","2557":"7*2+5+5","2558":"(5/5+2)*8","2559":"5*2+9+5","2566":"(5*2-6)*6","2567":"(7+2-5)*6","2568":"5*2+8+6","2569":"6*5/2+9","2577":"5*2+7+7","2578":"(5*2-7)*8","2579":"7*5-9-2","2588":"8*5-8*2","2589":"9+8+5+2","2666":"6*2+6+6","2667":"(7-6/2)*6","2668":"(8-6)*6*2","2669":"(6+2)*(9-6)","2678":"(7+2-6)*8","2679":"9+7+6+2","2688":"8+8+6+2","2689":"(6*2-9)*8","2699":"(9+9-6)*2","2778":"8+7+7+2","2788":"(8+2-7)*8","2789":"(9+7)*2-8","2888":"8*8/2-8","2889":"(9+2-8)*8","2899":"9+9+8-2","3333":"3*3*3-3","3334":"(3*3-3)*4","3335":"5*3+3*3","3336":"6*3+3+3","3337":"(3+3)*(7-3)","3338":"8*3+3-3","3339":"(9-3/3)*3","3344":"4*3+4*3","3345":"(3/3+5)*4","3346":"6*4+3-3","3347":"(7-3/3)*4","3348":"(3+3)*(8-4)","3349":"4*3+9+3","3355":"5*5-3/3","3356":"6*5-3-3","3357":"(5*3-7)*3","3359":"(3+3)*(9-5)","3366":"(6/3+6)*3","3367":"7*3+6-3","3368":"(3*3-6)*8","3369":"3*3+9+6","3377":"(3/7+3)*7","3378":"3*3+8+7","3379":"7*3+9/3","3388":"8/(3-8/3)","3389":"(9-3-3)*8","3399":"9+9+3+3","3444":"(4+3)*4-4","3445":"(5+4-3)*4","3446":"(6-4)*4*3","3447":"(7+3-4)*4","3448":"4*3+8+4","3449":"9*4-4*3","3455":"5*5+3-4","3456":"(5+3-4)*6","3457":"4*3+7+5","3458":"8*4-5-3","3459":"(5*3-9)*4","3466":"4*3+6+6","3468":"(8-6)*4*3","3469":"(9+3-6)*4","3477":"7*3+7-4","3478":"(7-3)*4+8","3479":"(9-7)*4*3","3489":"9+8+4+3","3499":"(9+9)*4/3","3556":"(5+5)*3-6","3557":"(7+5)*(5-3)","3558":"(5+3)*(8-5)","3559":"(9-5/5)*3","3566":"(6+3-5)*6","3567":"(7+5)*6/3","3568":"8*6/(5-3)","3569":"(5+3)*(9-6)","3578":"7*3+8-5","3579":"9+7+5+3","3588":"8+8+5+3","3589":"9*3+5-8","3599":"9*5/3+9","3666":"(6-3)*6+6","3667":"7*6-6*3","3668":"8*3+6-6","3669":"9+6+6+3","3677":"(7+7-6)*3","3678":"8+7+6+3","3679":"7*3+9-6","3688":"8*6/3+8","3689":"9*8/(6-3)","3699":"9*3+6-9","3777":"7+7+7+3","3778":"8*3+7-7","3779":"(9-7/7)*3","3788":"(7-3)*8-8","3789":"(9+7-8)*3","3799":"(9+3)*(9-7)","3888":"8*3+8-8","3889":"(9-8)*8*3","3899":"8*3+9-9","3999":"9+9+9-3","4444":"4*4+4+4","4445":"(4/4+5)*4","4446":"6*4+4-4","4447":"(4+4)*(7-4)","4448":"8*4-4-4","4449":"(9-4)*4+4","4455":"5*5-4/4","4456":"(5-4/4)*6","4457":"(7+4-5)*4","4458":"(4+4)*(8-5)","4468":"(8+4-6)*4","4469":"(4+4)*(9-6)","4477":"(4-4/7)*7","4478":"7*4+4-8","4479":"9+7+4+4","4488":"8+8+4+4","4489":"9*4-8-4","4555":"5*5+4-5","4556":"6*4+5-5","4557":"(7-5/5)*4","4558":"(4-5/5)*8","4559":"5*4+9-5","4566":"(6-5)*6*4","4567":"(7+5)*(6-4)","4568":"(5+4-6)*8","4569":"9+6+5+4","4577":"7*5-7-4","4578":"8+7+5+4","4579":"7*4+5-9","4588":"(5-8/4)*8","4589":"(9+5-8)*4","4599":"(9/9+5)*4","4666":"6*4+6-6","4667":"(7-6)*6*4","4668":"8+6+6+4","4669":"(6-4)*9+6","4677":"7+7+6+4","4678":"(6+4-7)*8","4679":"(9+7)*6/4","4688":"6*4+8-8","4689":"(9-8)*6*4","4699":"6*4+9-9","4777":"(7-7/7)*4","4778":"(7+7-8)*4","4788":"(7+4-8)*8","4789":"9*8/(7-4)","4799":"(7-9/9)*4","4888":"(8-4)*8-8","4889":"(8+4-9)*8","4899":"(4-9/9)*8","5555":"5*5-5/5","5556":"5*5+5-6","5559":"9+5+5+5","5566":"(5+5-6)*6","5567":"5*5+6-7","5568":"8+6+5+5","5577":"7+7+5+5","5578":"(5+5-7)*8","5588":"5*5-8/8","5589":"5*5+8-9","5599":"5*5-9/9","5666":"(5-6/6)*6","5667":"7+6+6+5","5668":"(8-5)*6+6","5669":"9*6-6*5","5677":"(5-7/7)*6","5678":"(7+5)*(8-6)","5679":"(7-5)*9+6","5688":"(6+5-8)*8","5689":"(8+5-9)*6","5699":"(9-6)*5+9","5779":"(7+5)*(9-7)","5788":"(7-5)*8+8","5789":"(7+5-9)*8","5888":"8*5-8-8","5889":"9*8/(8-5)","6666":"6+6+6+6","6668":"(6+6)*(8-6)","6669":"6*6*6/9","6679":"(6+6)*(9-7)","6688":"8*6/(8-6)","6689":"(6+6-9)*8","6789":"8*6/(9-7)","6799":"7*6-9-9","6888":"(8-6)*8+8","6889":"9*8-8*6","6899":"(9+9)*8/6","7889":"(9-7)*8+8"}}');class h{static GetSolution(t){return l.A[t]}}class c{constructor(t,e,i,s,a,n,r){this.m_currentScene=t,this.m_isRunning=!1,this.m_INITIAL_TIME=e,this.m_currentTime=e,this.m_textObject=new o(t,s,a,"",{fontFamily:"Vertiky",fill:"#fff",fontStyle:"bold",fontSize:n}),r?this.m_textObject.setText(r):this.m_textObject.setText(this.FormatTime()),this.m_callback=i}StartCountdown(){this.m_isRunning||(this.m_timerEvent=this.m_currentScene.time.addEvent({delay:1e3,callback:this.Tick,callbackScope:this,loop:!0}),this.m_currentTime=this.m_INITIAL_TIME,this.m_isRunning=!0,this.m_textObject.setFill("#fff"))}StopCountdown(){this.m_isRunning&&(this.m_timerEvent.paused=!0)}Tick(){this.m_currentTime>0?(this.m_currentTime-=1,this.m_textObject.setText(this.FormatTime())):(this.m_callback(this.m_currentScene),this.m_isRunning=!1,this.m_currentScene.time.removeEvent(this.m_timerEvent),this.m_textObject.setText("00 : 00")),this.m_currentTime<10&&this.m_textObject.setFill("#ff251a")}FormatTime(){if(121==this.m_currentTime||120==this.m_currentTime)return"02 : 00";var t=Math.floor(this.m_currentTime/60),e=this.m_currentTime%60;return e<10?`0${t} : 0${e}`:`0${t} : ${e}`}Reset(){this.m_isRunning=!1,this.m_currentTime=this.m_INITIAL_TIME,this.m_textObject.setText(this.FormatTime()),this.m_textObject.setFill("#fff")}}class d{constructor(){this.operand1="",this.operand2="",this.operator="",this.expression="",this.operand1BtnIndex=0,this.operand2BtnIndex=0}}const u=JSON.parse('{"C":{"1":["1118","1127","1129","1134","1138","1144","1146","1148","1149","1158","1169","1188","1226","1229","1234","1235","1236","1237","1238","1239","1244","1248","1249","1255","1256","1257","1258","1259","1266","1267","1268","1278","1289","1334","1335","1336","1339","1345","1347","1348","1349","1358","1359","1366","1367","1368","1369","1388","1468","1478","1479","1488","1489","1589","1599","1689","1779","1788","1799","1888","1889","2224","2228","2233","2236","2239","2245","2246","2247","2248","2256","2268","2277","2278","2288","2336","2337","2338","2339","2344","2346","2347","2348","2349","2355","2356","2357","2358","2359","2366","2367","2368","2369","2377","2378","2379","2388","2399","2444","2445","2446","2448","2456","2458","2459","2466","2467","2468","2469","2478","2488","2499","2557","2567","2568","2577","2589","2666","2667","2668","2669","2679","2688","2788","2888","3336","3338","3345","3346","3348","3349","3356","3359","3367","3369","3378","3379","3389","3399","3444","3446","3448","3449","3456","3457","3458","3466","3468","3477","3479","3489","3499","3568","3569","3578","3579","3666","3667","3669","3678","3679","3688","3689","3699","3778","3788","3799","3899","3999","4444","4446","4448","4455","4458","4488","4556","4569","4578","4579","4667","4668","4669","4688","4689","4699","4788","4789","4888","5555","5559","5566","5568","5577","5588","5599","5667","5678","6666","6799"],"2":["1126","1136","1137","1139","1145","1147","1155","1156","1157","1166","1225","1227","1228","1245","1246","1247","1269","1279","1288","1333","1338","1344","1356","1357","1378","1389","1444","1446","1447","1448","1449","1455","1456","1457","1458","1459","1466","1467","1556","1567","1578","1588","1688","1699","1789","2223","2234","2237","2238","2244","2249","2255","2266","2267","2269","2333","2335","2345","2389","2447","2457","2479","2559","2566","2588","2678","2689","2699","2778","2899","3334","3337","3344","3347","3368","3445","3447","3455","3459","3469","3556","3557","3558","3559","3566","3567","3588","3589","3599","3668","3677","3777","3888","3889","4447","4456","4468","4469","4478","4479","4555","4559","4566","4567","4577","4588","4589","4666","4677","4678","4778","5556","5567","5578","5589","5688","5689","5699","5788","5789","5888","5889","6668","6669","6679","6689"],"3":["1128","1135","1168","1224","1233","1277","1337","1346","1377","1379","1399","1445","1469","1477","1555","1559","1566","1568","1569","1579","1666","1668","1669","1679","2225","2227","2229","2235","2257","2258","2259","2289","2449","2445","2477","2489","2558","2569","2578","2579","2789","2889","3333","3335","3339","3355","3357","3366","3377","3388","3478","3779","3789","4445","4449","4457","4477","4489","4557","4558","4568","4599","4679","4777","4799","4889","4899","5666","5668","5669","5677","5679","5779","6688","6789","6888","6889","6899","7889"]}}');var m,p,g=i(269);function b(t){return!isNaN(parseFloat(t))&&isFinite(t)}function S(t){return(0,g.ku)(t.replaceAll("x","*"))}!function(t){t[t.Easy=0]="Easy",t[t.Medium=1]="Medium",t[t.Hard=2]="Hard",t[t.Any=3]="Any"}(m||(m={}));class f{static GenerateCard(t){let e,i;switch(t){case m.Easy:e=u.C[1];break;case m.Medium:e=u.C[2];break;case m.Hard:e=u.C[3];break;case m.Any:e=u.C[function(t,e){let i=Math.ceil(1),s=Math.floor(3);return Math.floor(Math.random()*(s-i+1))+i}()]}for(;;)if(i=e[Math.floor(Math.random()*e.length)].toString(),!f.usedCards.has(i))return this.usedCards.add(i),i}}f.usedCards=new Set;class w{constructor(){this.length=0,this.stack=new Array}isEmpty(){return 0===this.length}push(t){this.stack[this.length++]=t}pop(){if(!this.isEmpty())return this.stack[--this.length]}top(){if(!this.isEmpty())return this.stack[this.length-1]}stackContents(){console.log("Stack Contents");for(let t=0;t<this.length;++t)console.log(`stack[${t}]: ${this.stack[t]}`)}}!function(t){t[t.PickingOperand1=0]="PickingOperand1",t[t.PickingOperator=1]="PickingOperator",t[t.PickingOperand2=2]="PickingOperand2"}(p||(p={}));class y{constructor(t){this.difficulty=t,this.currentCard="????",this.totalCorrect=0,this.totalWrong=0,this.playerState=p.PickingOperand1,this.operationStack=new w,this.currentOperation=new d}NewCard(){this.currentCard=f.GenerateCard(this.difficulty),this.ResetOperationState(),this.ResetOperationStack()}CheckSolution(t){return 24===(0,g.ku)(t.replaceAll("x","*"))}PickOperand1(t,e){this.currentOperation.operand1=t,this.currentOperation.operand1BtnIndex=e,this.playerState=p.PickingOperator}PickOperator(t){return this.currentOperation.operator=t,this.playerState=p.PickingOperand2,b(this.currentOperation.operand1)?`${this.currentOperation.operand1} ${t}`:`(${this.currentOperation.operand1}) ${t}`}PickOperand2(t,e){this.currentOperation.operand2=t,this.currentOperation.operand2BtnIndex=e,b(this.currentOperation.operand1)&&b(this.currentOperation.operand2)?this.currentOperation.expression=`${this.currentOperation.operand1}${this.currentOperation.operator}${this.currentOperation.operand2}`:b(this.currentOperation.operand1)&&!b(this.currentOperation.operand2)?this.currentOperation.expression=`${this.currentOperation.operand1}${this.currentOperation.operator}(${this.currentOperation.operand2})`:!b(this.currentOperation.operand1)&&b(this.currentOperation.operand2)?this.currentOperation.expression=`(${this.currentOperation.operand1})${this.currentOperation.operator}${this.currentOperation.operand2}`:b(this.currentOperation.operand1)||b(this.currentOperation.operand2)?this.currentOperation.expression="ERROR":this.currentOperation.expression=`(${this.currentOperation.operand1})${this.currentOperation.operator}(${this.currentOperation.operand2})`;let i=this.currentOperation.expression;return this.operationStack.push(this.currentOperation),this.ResetOperationState(),i}PushCurrentOperation(){this.operationStack.push(this.currentOperation)}PeekCurrentOperation(){return this.currentOperation}RevertToLastOperation(){let t=this.operationStack.pop();if(t)return this.currentOperation=t,t}ResetOperationState(){this.playerState=p.PickingOperand1,this.currentOperation=new d}ResetOperationStack(){this.operationStack=new w}CompleteReset(){this.ResetOperationState(),this.ResetOperationStack()}IncrTotalCorrect(){return this.totalCorrect+=1,this.totalCorrect}IncrTotalWrong(){return this.totalWrong+=1,this.totalWrong}GetTotalCorrect(){return this.totalCorrect}GetTotalWrong(){return this.totalWrong}GetCurrentCard(){return this.currentCard}SetCard(t){this.currentCard=t}GetPlayerState(){return this.playerState}SetPlayerState(t){this.playerState=t}IsStackEmpty(){return this.operationStack.isEmpty()}}class _{static GetInstance(){return _.Instance||(_.Instance=new _),_.Instance}static Logout(){_.SetUser(""),_.SetFirstName(""),_.SetClass(""),_.SetSchool(""),this.isLoggedIn=!1}static ParseData(t){t.user&&_.SetUser(t.user),t.firstName&&_.SetFirstName(t.firstName),t.turma&&_.SetClass(t.turma),t.escola&&_.SetSchool(t.escola)}static GetUser(){return this.m_User}static SetUser(t){this.m_User=t}static GetFirstName(){return this.m_FirstName}static SetFirstName(t){this.m_FirstName=t}static GetClass(){return this.m_Class}static SetClass(t){this.m_Class=t}static GetSchool(){return this.m_School}static SetSchool(t){this.m_School=t}static LoginWithData(t){const e="false"!=(i=t)?{user:i.split(",")[0],firstName:i.split(",")[1],escola:i.split(",")[2],turma:i.split(",")[3]}:"WRONG_PASSWORD";var i;return"WRONG_PASSWORD"===e?(alert("Utilizador ou Password Errados"),!1):(this.m_User=e.user,this.m_FirstName=e.firstName,this.m_Class=e.turma,this.m_School=e.escola,this.isLoggedIn=!0,!0)}static IsLoggedIn(){return this.isLoggedIn}}_.isLoggedIn=!1;var B,T,x=i(755);class C{GetInstance(){return C.Instance||(C.Instance=new C),C.Instance}GetUserInfoInstance(){return _.GetInstance()}static Login(t,e){return new Promise((function(i,s){x.ajax({type:"POST",url:"https://www.hypatiamat.com/loginActionVH.php",data:"action=dologin&u="+t+"&p="+e,crossDomain:!0,cache:!1,success:function(t){i(t)},error:function(t){s(t)}})}))}static SessionVerify(){x.ajax({type:"POST",url:"https://www.hypatiamat.com/loginActionVH.php",data:"action=verify",cache:!1,success:function(t){"not"!=t?(_.SetUser(t.split(",")[0]),_.SetFirstName(t.split(",")[1]),_.SetSchool(t.split(",")[2]),_.SetClass(t.split(",")[3])):_.SetUser("")},error:function(t,e,i){_.SetUser(""),alert("Falha de ligação, por favor verifique a sua conexão")}})}static DestroySession(){x.ajax({type:"POST",url:"https://www.hypatiamat.com/loginActionVH.php",data:"action=des",cache:!1,success:function(t){_.Logout()},error:function(t,e,i){_.SetUser(""),alert("Falha de ligação, por favor verifique a sua conexão")}})}static GetTOP(t,e,i,s,a){return new Promise((function(n,o){x.ajax({type:"POST",url:"https://www.hypatiamat.com/newHRecords.php",data:"action=mostraNew&anoLi="+t+"&anoLf="+e+"&mturma="+i+"&mescola="+s+"&flag=2&tip="+a+"&tC=jogo24HypatiaTOP",crossDomain:!0,cache:!1,success:function(t){n(t)},error:function(t){o(t)}})}))}static UpdateTOP(t,e,i,s){let a=_.GetClass(),n=_.GetSchool();return new Promise((function(o,r){x.ajax({type:"POST",url:"https://www.hypatiamat.com/newHRecords.php",data:"action=mostraNew&anoLi="+t+"&anoLf="+e+"&mturma="+a+"&mescola="+n+"&flag="+i+"&tip="+s+"&tC=jogo24HypatiaTOP",crossDomain:!0,cache:!1,success:function(t){o(t)},error:function(t){r(t)}})}))}static VerifyScore(t,e){const i=_.GetUser(),s=_.GetSchool(),a=_.GetClass();return new Promise((function(n,o){x.ajax({type:"POST",url:"https://www.hypatiamat.com/newHRecords.php",data:"action=minimoGlobal&codAl="+i+"&codTurma="+a+"&codEscola="+s+"&pont="+t+"&tip="+e+"&t=jogo24Hypatia&tC=jogo24HypatiaTOP",crossDomain:!0,cache:!1,success:function(t){const e={personalBest:parseFloat(t.split("vlMin4=")[1]),classBest:parseFloat(t.split("vlMin3=")[1].split("&")[0]),schoolBest:parseFloat(t.split("vlMin2=")[1].split("&")[0]),top100GlobalBest:parseFloat(t.split("vlMin1=")[1].split("&")[0])};n(e)},error:function(t){o(t)}})}))}static GravaRecords(t,e){const i=_.GetUser(),s=_.GetSchool(),a=_.GetClass();return new Promise((function(n,o){x.ajax({type:"POST",url:"https://www.hypatiamat.com/newHRecords.php",data:"action=insere&musername="+i+"&mturma="+a+"&mescola="+s+"&mpontuacao="+t+"&mtipo="+e+"&t=jogo24Hypatia&tC=jogo24HypatiaTOP",crossDomain:!0,cache:!1,success:function(t){n(t)},error:function(t){o(t)}})}))}static GetRecords(t){const e=_.GetUser(),i=_.GetClass(),s=_.GetSchool();return new Promise((function(a,n){x.ajax({type:"POST",url:"https://www.hypatiamat.com/newHRecords.php",data:"action=minimoGlobal&codAl="+e+"&codTurma="+i+"&codEscola="+s+"&pont=0&tip="+t+"&t=jogo24Hypatia&tC=jogo24HypatiaTOP",crossDomain:!0,cache:!1,success:function(t){const e={personalBest:parseFloat(t.split("vlMin4=")[1]),classBest:parseFloat(t.split("vlMin3=")[1].split("&")[0]),schoolBest:parseFloat(t.split("vlMin2=")[1].split("&")[0]),top100GlobalBest:parseFloat(t.split("vlMin1=")[1].split("&")[0])};a(e)},error:function(t){n(t)}})}))}}class F extends n().Scene{constructor(){super("SoloGame"),this.isInstanced=!1}preload(){this.add.sprite(this.game.scale.width/2,this.game.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height),this.add.sprite(256,96,"smallTitle").setScale(1,1),this.add.sprite(this.scale.width/2,this.scale.height/2,"cardBG").setScale(1.15),this.add.sprite(this.scale.width/2+680,128,"correctCounter"),this.add.sprite(this.scale.width/2+680,288,"wrongCounter"),this.Setup_Labels(),this.Setup_Buttons(),this.add.sprite(this.scale.width/2-640,this.scale.height/2-64,"clockBG2"),this.countdownTimer=new c(this,10,this.NoTimeLeft.bind(this),320,this.scale.height/2+20,64,""),this.textSolution=new o(this,256,256,"",{fontFamily:"Vertiky",fontSize:32}),this.expressionBar=new r(this,this.scale.width/2,96,1,.9,"",{fontFamily:"Bubblegum",fontSize:48,fill:"#FFFFFF"},"inputBar",0),this.expressionBar.SetDisabled(1),this.imgEndGame=this.add.sprite(this.scale.width/2,this.scale.height/2,"gameEndBGg"),this.imgEndGame.setScale(1.5),this.imgEndGame.setAlpha(0)}init(t){this.gameState=new y(t.difficulty),this.isInstanced||(this.events.on("NumberButtonClick",this.HandleButtonClick_Number,this),this.events.on("OperationButtonClick",this.HandleButtonClick_Operation,this),this.events.on("ResetButtonClick",this.HandleButtonClick_Reset,this),this.events.on("UndoButtonClick",this.HandleButtonClick_Undo,this),this.isInstanced=!0),_.IsLoggedIn()&&C.GetRecords(this.gameState.difficulty+1).then((t=>{this.playerScores=t})).catch((function(t){console.log(t)}))}Setup_Labels(){this.textTotalCorrect=new o(this,this.scale.width/2+740,128,"0",{fontFamily:"Vertiky",fontSize:40,color:"#ffffff",fontStyle:"bold"}),this.textTotalCorrect.setOrigin(.5,.5),this.textTotalWrong=new o(this,this.scale.width/2+740,288,"0",{fontFamily:"Vertiky",fontSize:40,color:"#ffffff",fontStyle:"bold"}),this.textTotalWrong.setOrigin(.5,.5)}Setup_Buttons(){this.btnNewCard=new r(this,this.scale.width/2,this.scale.height/2,.6,.6,"",{},"btn_playCard"),this.btnNewCard.on("pointerup",(()=>this.NewCard())),this.btnGotoMenu=new r(this,128,this.scale.height-128,1,1,"",{},"btn_gotoMenu"),this.btnGotoMenu.on("pointerup",(()=>{this.scene.start("MainMenu")})),this.m_CardButtons=[new r(this,this.scale.width/2-204,this.scale.height/2,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,color:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2,this.scale.height/2-204,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,color:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2+204,this.scale.height/2,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,color:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2,this.scale.height/2+204,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,color:"#FFFFFF"},"btn_numberBG")],this.m_BtnUsed=new Array;for(let t=0;t<this.m_CardButtons.length;t++)this.m_CardButtons[t].SetTextColor("#ffffff"),this.m_CardButtons[t].SetDisabled(),this.m_CardButtons[t].on("pointerup",(()=>this.events.emit("NumberButtonClick",t))),this.m_BtnUsed[t]=!1;this.btnReset=new r(this,this.scale.width/2-196,this.scale.height-84,.9,.9,"",{fontSize:64},"btn_reset"),this.btnReset.on("pointerup",(()=>this.events.emit("ResetButtonClick"))),this.btnReset.SetDisabled(),this.btnUndo=new r(this,this.scale.width/2+196,this.scale.height-84,.9,.9,"",{fontSize:32},"btn_undo"),this.btnUndo.on("pointerup",(()=>this.events.emit("UndoButtonClick"))),this.btnUndo.SetDisabled(),this.btnOperationAdd=new r(this,this.scale.width/2+580,this.scale.height/2-64,1,1,"",{fontSize:64},"btn_addition"),this.btnOperationAdd.on("pointerup",(()=>this.events.emit("OperationButtonClick","+"))),this.btnOperationSubtract=new r(this,this.scale.width/2+800,this.scale.height/2-64,1,1,"",{fontSize:64},"btn_subtraction"),this.btnOperationSubtract.on("pointerup",(()=>this.events.emit("OperationButtonClick","-"))),this.btnOperationMultiply=new r(this,this.scale.width/2+580,this.scale.height/2+160,1,1,"",{fontSize:64},"btn_multiplication"),this.btnOperationMultiply.on("pointerup",(()=>this.events.emit("OperationButtonClick","x"))),this.btnOperationDivide=new r(this,this.scale.width/2+800,this.scale.height/2+160,1,1,"",{fontSize:64},"btn_division"),this.btnOperationDivide.on("pointerup",(()=>this.events.emit("OperationButtonClick","/"))),this.DisableOperationButtons()}NewCard(){this.gameState.NewCard();for(let t=0;t<this.gameState.GetCurrentCard().length;t++)this.m_CardButtons[t].SetText(this.gameState.GetCurrentCard()[t]),this.m_CardButtons[t].SetEnabled(),this.m_BtnUsed[t]=!1,this.m_CardButtons[t].SetFontSize(128);this.btnReset.SetDisabled(),this.btnUndo.SetDisabled(),this.textSolution.setText(`[DEBUG] Solução: ${h.GetSolution(this.gameState.GetCurrentCard())}`),this.expressionBar.SetText(""),this.expressionBar.SetTextColor("#FFFFFF"),this.countdownTimer.StartCountdown()}HandleButtonClick_Number(t){const e=this.m_CardButtons[t].GetText();if(this.btnReset.SetEnabled(),this.btnUndo.SetEnabled(),this.gameState.GetPlayerState()===p.PickingOperand1)this.m_BtnUsed[t]=!0,this.EnableOperationButtons(),this.gameState.PickOperand1(e,t),this.expressionBar.SetText(e),this.DisableNumberButtons();else if(this.gameState.GetPlayerState()===p.PickingOperand2){const i=this.gameState.PickOperand2(e,t);this.m_CardButtons[t].NumberButtonSetText(i),this.expressionBar.SetText(i);let s=0;for(let t=0;t<4;t++)!0===this.m_BtnUsed[t]&&s++;3===s&&(this.gameState.CheckSolution(i)?(this.gameState.IncrTotalCorrect(),this.ShowPlayerWon(i)):(this.gameState.IncrTotalWrong(),this.ShowPlayerLost(i)),this.DisableNumberButtons(),this.DisableOperationButtons(),this.btnReset.SetDisabled(),this.btnUndo.SetDisabled())}}HandleButtonClick_Operation(t){const e=this.gameState.PickOperator(t);this.EnableNumberButtons(),this.DisableOperationButtons(),this.expressionBar.SetText(e)}HandleButtonClick_Undo(){if(this.gameState.GetPlayerState()===p.PickingOperand1){let t=this.gameState.RevertToLastOperation();if(void 0===t)return;this.m_CardButtons[t.operand1BtnIndex].NumberButtonSetText(t.operand1),this.m_CardButtons[t.operand1BtnIndex].SetEnabled(),this.m_BtnUsed[t.operand1BtnIndex]=!1,this.m_CardButtons[t.operand2BtnIndex].NumberButtonSetText(t.operand2),this.m_CardButtons[t.operand2BtnIndex].SetEnabled(),this.m_BtnUsed[t.operand2BtnIndex]=!1,this.expressionBar.SetText("")}else if(this.gameState.GetPlayerState()===p.PickingOperator){let t=this.gameState.PeekCurrentOperation();this.m_BtnUsed[t.operand1BtnIndex]=!1,this.EnableNumberButtons(),this.DisableOperationButtons(),this.expressionBar.SetText(""),this.gameState.SetPlayerState(p.PickingOperand1)}else if(this.gameState.GetPlayerState()===p.PickingOperand2){this.DisableNumberButtons(),this.EnableOperationButtons();const t=this.expressionBar.GetText(),e=t.substring(0,t.length-1);this.expressionBar.SetText(e),this.gameState.SetPlayerState(p.PickingOperator)}this.gameState.IsStackEmpty()&&(this.btnUndo.SetDisabled(),console.log("Stack is empty. Disabling undo button"))}HandleButtonClick_Reset(){this.gameState.CompleteReset(),this.DisableOperationButtons(),this.btnReset.SetDisabled(),this.btnUndo.SetDisabled(),this.EnableNumberButtons(),this.ResetNumberButtons(),this.expressionBar.SetText("")}ShowPlayerWon(t){this.expressionBar.SetText(t+" = 24"),this.expressionBar.SetTextColor("#00ff1a"),this.textTotalCorrect.setText(this.gameState.GetTotalCorrect().toString()),this.expressionBar.PlayCorrectExpressionTween()}ShowPlayerLost(t){this.expressionBar.SetText(t+` = ${S(t)}`),this.expressionBar.SetTextColor("#ff2600"),this.textTotalWrong.setText(this.gameState.GetTotalWrong().toString()),this.expressionBar.PlayIncorrectExpressionTween()}EnableNumberButtons(){for(let t=0;t<4;t++)!1===this.m_BtnUsed[t]&&this.m_CardButtons[t].SetEnabled()}DisableNumberButtons(){for(let t=0;t<4;t++)this.m_CardButtons[t].SetDisabled()}EnableOperationButtons(){this.btnOperationAdd.SetEnabled(),this.btnOperationSubtract.SetEnabled(),this.btnOperationDivide.SetEnabled(),this.btnOperationMultiply.SetEnabled()}DisableOperationButtons(){this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationDivide.SetDisabled(),this.btnOperationMultiply.SetDisabled()}ResetNumberButtons(){for(let t=0;t<4;t++)this.m_CardButtons[t].SetText(this.gameState.GetCurrentCard()[t]),this.m_CardButtons[t].SetFontSize(128),this.m_CardButtons[t].SetEnabled(),this.m_BtnUsed[t]=!1}NoTimeLeft(){for(let t=0;t<4;t++)this.m_CardButtons[t].SetDisabled();this.btnReset.SetDisabled(),this.btnUndo.SetDisabled(),this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide.SetDisabled(),this.btnNewCard.SetDisabled();const t=this.gameState.GetTotalCorrect();C.VerifyScore(t,this.gameState.difficulty+1).then((e=>{this.playerScores=e,_.IsLoggedIn()?(this.ShowGameResults(t),console.log(this.playerScores),console.log(t),this.SendScoreToDB(t)):this.ShowPleaseLoginWarning(t)})).catch((t=>{console.log("Failed to verify")}))}ShowGameResults(t){const e=_.GetFirstName();let i,s=this.playerScores.personalBest,a=this.playerScores.classBest,n=this.playerScores.schoolBest,r=this.playerScores.top100GlobalBest;i=t>s?t>r?`${e}, conseguiste um\nnovo recorde ABSOLUTO!\nCom ${t} pontos.\n\nVê o teu resultado no TOP 100 absoluto.`:t>n?`${e}, conseguiste um novo\nrecorde na tua escola!\nCom ${t} pontos.\n\n\nVê o teu resultado no TOP 100\nda tua escola.`:t>a?`${e}, conseguiste um\nnovo recorde na tua turma!\nCom ${t} pontos.\n\n\nVê o teu resultado no TOP 100\nda tua turma.`:`${e}, conseguiste melhorar o teu\nresultado anterior.\n\nNo entanto, ainda não conseguiste \nentrar no TOP 100.\n\nTenta outra vez.`:`Obtiveste ${t} pontos.\n\nNão conseguiste melhorar o teu\nresultado anterior\n(o teu melhor resultado é ${s} pontos)\n\n\nTenta outra vez!`,this.txtGameResults=new o(this,this.scale.width/2,this.scale.height/2,"",{fontFamily:"Vertiky",align:"center",fontSize:34}),this.txtGameResults.setText(i),this.txtGameResults.setColor("#4e2400"),this.txtGameResults.setAlpha(0),this.tweens.add({targets:[this.imgEndGame,this.txtGameResults],alpha:1,scale:1.6,duration:500,ease:"Power1"}),this.expressionBar.SetText(""),this.tweens.add({targets:[this.btnOperationAdd,this.btnOperationSubtract,this.btnOperationMultiply,this.btnOperationDivide,this.btnReset,this.btnUndo,this.expressionBar],alpha:0,duration:500,ease:"Power1"})}SendScoreToDB(t){const e=this.gameState.difficulty+1;C.GravaRecords(t,e)}ShowPleaseLoginWarning(t){let e;e=t>this.playerScores.top100GlobalBest?`Se estivesses registado o teu\nnome figuraria no TOP 100 absoluto\ncom ${t} pontos.\n\nRegista-te em\nwww.hypatiamat.com `:"\n\n Para que o teu nome figure nos TOPs \n tens de estar registado.\n\n\n\nRegista-te em www.hypatiamat.com",this.txtLoginWarning=new o(this,this.scale.width/2,this.scale.height/2,"",{fontFamily:"Vertiky",align:"center",fontSize:34}),this.txtLoginWarning.setText(e),this.txtLoginWarning.setColor("#4e2400"),this.txtLoginWarning.setAlpha(0),this.tweens.add({targets:[this.imgEndGame,this.txtLoginWarning],alpha:1,scale:1.6,duration:500,ease:"Power1"}),this.expressionBar.SetText(""),this.tweens.add({targets:[this.btnOperationAdd,this.btnOperationSubtract,this.btnOperationMultiply,this.btnOperationDivide,this.btnReset,this.btnUndo,this.expressionBar],alpha:0,duration:500,ease:"Power1"})}}!function(t){t[t.PickingOperand1=1]="PickingOperand1",t[t.PickingOperator=2]="PickingOperator",t[t.PickingOperand2=3]="PickingOperand2"}(B||(B={}));class O{constructor(){this.score=0}GetScore(){return this.score}AddPoint(){this.score+=1}SubtractPoint(){this.score-=1}}class P{constructor(t){this.MAX_CARD_TOTAL=12,this.difficulty=t,this.currentCard="????",this.cardTotal=0,this.players=[new O,new O,new O,new O],this.playerState=B.PickingOperand1,this.currentOperation=new d}NewCard(){this.currentCard=f.GenerateCard(this.difficulty),this.ResetOperationState()}PickOperand1(t,e){this.currentOperation.operand1=t,this.currentOperation.operand1BtnIndex=e,this.playerState=B.PickingOperator}PickOperand2(t,e){this.currentOperation.operand2=t,this.currentOperation.operand2BtnIndex=e,b(this.currentOperation.operand1)&&b(this.currentOperation.operand2)?this.currentOperation.expression=`${this.currentOperation.operand1}${this.currentOperation.operator}${this.currentOperation.operand2}`:b(this.currentOperation.operand1)&&!b(this.currentOperation.operand2)?this.currentOperation.expression=`${this.currentOperation.operand1}${this.currentOperation.operator}(${this.currentOperation.operand2})`:!b(this.currentOperation.operand1)&&b(this.currentOperation.operand2)?this.currentOperation.expression=`(${this.currentOperation.operand1})${this.currentOperation.operator}${this.currentOperation.operand2}`:b(this.currentOperation.operand1)||b(this.currentOperation.operand2)?this.currentOperation.expression="ERROR":this.currentOperation.expression=`(${this.currentOperation.operand1})${this.currentOperation.operator}(${this.currentOperation.operand2})`;let i=this.currentOperation.expression;return this.ResetOperationState(),i}PickOperator(t){return this.currentOperation.operator=t,this.playerState=B.PickingOperand2,b(this.currentOperation.operand1)?`${this.currentOperation.operand1}${t}`:`(${this.currentOperation.operand1})${t}`}CheckSolution(t){return 24===(0,g.ku)(t.replaceAll("x","*"))}IncrTotalCorrect(){return this.players[this.currentPlayer].AddPoint(),this.players[this.currentPlayer].GetScore()}IncrTotalWrong(){return this.players[this.currentPlayer].SubtractPoint(),this.players[this.currentPlayer].GetScore()}GetCurrentPlayerScore(){return this.players[this.currentPlayer].GetScore()}IsGameTied(){return console.log(this.players[0].GetScore()),console.log(this.players[1].GetScore()),console.log(this.players[2].GetScore()),console.log(this.players[3].GetScore()),this.players[0].GetScore()===this.players[1].GetScore()&&this.players[1].GetScore()===this.players[2].GetScore()&&this.players[2].GetScore()===this.players[3].GetScore()}GetWinningPlayersIndexes(){let t=new Array;this.players.forEach((e=>t.push(e.GetScore()))),console.log("Scores: "),console.log(t);const e=Math.max.apply(null,t);console.log("Max score: "+e);let i=new Array;for(let s=0;s<t.length;s++)t[s]===e&&i.push(s);return console.log("Winning indexes:"),console.log(i),i}GetWinningScore(){let t=this.GetWinningPlayersIndexes();return console.log("Indexes"),console.log(t),this.players[t[0]].GetScore()}GetPlayerState(){return this.playerState}ResetOperationState(){this.playerState=B.PickingOperand1,this.currentOperation=new d}GetCurrentCard(){return this.currentCard}IncrementTotalCardsUsed(){return this.cardTotal+=1,this.cardTotal}IsMaxCardCountReached(){return this.cardTotal===this.MAX_CARD_TOTAL}GetCurrentPlayer(){return this.currentPlayer}SetCurrentPlayer(t){this.currentPlayer=t}}class G extends Phaser.GameObjects.Image{constructor(t,e,i,s){super(t,e,i,"cardBG"),this.setScale(.3,.3),t.add.existing(this),this.mButtons=new Array,this.mButtons[0]=new o(t,e-54,i,s[0],{fontFamily:"Bubblegum",fontSize:48,fill:"#4e2400"}),this.mButtons[1]=new o(t,e,i-54,s[1],{fontFamily:"Bubblegum",fontSize:48,fill:"#4e2400"}),this.mButtons[2]=new o(t,e+54,i,s[2],{fontFamily:"Bubblegum",fontSize:48,fill:"#4e2400"}),this.mButtons[3]=new o(t,e,i+54,s[3],{fontFamily:"Bubblegum",fontSize:48,fill:"#4e2400"}),this.FlipForTop()}SetPosition(t,e){this.setPosition(t,e),this.mButtons[0].setPosition(t-54,e),this.mButtons[1].setPosition(t,e-54),this.mButtons[2].setPosition(t+54,e),this.mButtons[3].setPosition(t,e+54)}FlipForBottom(){this.setFlipY(!1),this.mButtons.forEach((t=>{t.setFlipY(!1),t.setFlipX(!1)}))}FlipForTop(){this.setFlipY(!0),this.mButtons.forEach((t=>{t.setFlipY(!0),t.setFlipX(!0)}))}SetCard(t){for(let e=0;e<4;e++)this.mButtons[e].setText(t[e])}SetVisible(t){this.setVisible(t),this.mButtons.forEach((e=>e.setVisible(t)))}}class k extends n().Scene{constructor(){super("MultiplayerGame"),this.isInstanced=!1}init(){this.add.sprite(this.game.scale.width/2,this.game.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height),this.btnGotoMenu=new r(this,this.scale.width/2,70,.7,.7,"",{fontSize:64},"btn_gotoMenu"),this.btnGotoMenu.on("pointerup",(()=>{this.scene.start("MainMenu")})),this.textSolution=new o(this,128,256,"",{fontSize:32}),this.isInstanced||(this.events.on("DifficultyButtonClick",this.HandleDifficultyButtonClick,this),this.events.on("PlayerButtonClick",this.HandleButtonClick_Player,this),this.events.on("NumberButtonClick",this.HandleButtonClick_Number,this),this.events.on("OperationButtonClick",this.HandleButtonClick_Operation,this),this.events.on("PeekSolutionButtonClick",this.HandleButtonClick_PeekSolution,this),this.isInstanced=!0),this.Setup()}NewCard(){this.m_Btn_NewCard.SetDisabled(),this.m_GameState.NewCard();for(let t=0;t<this.m_GameState.GetCurrentCard().length;t++)this.m_CardButtons[t].NumberButtonSetText(this.m_GameState.GetCurrentCard()[t]),this.m_CardButtons[t].SetDisabled(.7),this.m_BtnUsed[t]=!1;this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide.SetDisabled(),this.textSolution.setText(`Solução: ${h.GetSolution(this.m_GameState.GetCurrentCard())}`);for(let t=0;t<4;t++)this.m_Array_ExpressionBars[t].SetText("");for(let t=0;t<4;t++)this.m_Array_PlayerButtons[t].SetEnabled();this.mMinicard1.SetCard(this.m_GameState.GetCurrentCard()),this.mMinicard2.SetCard(this.m_GameState.GetCurrentCard()),this.m_Array_ExpressionBars.forEach((t=>{t.SetText(""),t.SetTextColor("#FFFFFF")})),this.mCountDownTimer.Reset(),this.HidePeekSolutionButton();const t=this.m_GameState.IncrementTotalCardsUsed();this.cardCounter.SetText(`${t} / ${this.m_GameState.MAX_CARD_TOTAL}`)}DisableAllButtons(){for(let t=0;t<4;t++)this.m_CardButtons[t].SetDisabled();this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide.SetDisabled(),this.m_Btn_NewCard.SetDisabled()}HandleButtonClick_Player(t){this.m_GameState.SetCurrentPlayer(t);for(let e=0;e<4;e++)t!=e&&this.m_Array_PlayerButtons[e].SetDisabled(),this.m_Array_PlayerButtons[t].SetDisabled(1);for(let t=0;t<4;t++)this.m_CardButtons[t].SetEnabled();this.RedrawCard(t),this.m_Btn_NewCard.SetDisabled(),this.RedrawMiniCards(t),this.mCountDownTimer.StartCountdown()}RedrawCard(t){if(0===t||1===t){this.m_Btn_NewCard.setFlipY(!0);for(let t=0;t<4;t++)this.m_CardButtons[t].FlipY(!0)}else{this.m_Btn_NewCard.setFlipY(!1);for(let t=0;t<4;t++)this.m_CardButtons[t].FlipY(!1)}}RedrawMiniCards(t){0==t||1==t?(this.mMinicard1.SetPosition(384,this.scale.height-128),this.mMinicard1.FlipForBottom(),this.mMinicard2.SetPosition(this.scale.width-384,this.scale.height-128),this.mMinicard2.FlipForBottom()):(this.mMinicard1.SetPosition(384,128),this.mMinicard1.FlipForTop(),this.mMinicard2.SetPosition(this.scale.width-384,128),this.mMinicard2.FlipForTop())}HandleButtonClick_Number(t){const e=this.m_CardButtons[t].GetText();if(this.m_GameState.GetPlayerState()===B.PickingOperand1)this.m_CardButtons[t].SetDisabled(),this.m_BtnUsed[t]=!0,this.EnableOperationButtons(),this.m_GameState.PickOperand1(e,t),this.m_Array_ExpressionBars.forEach((t=>{t.SetText(e)}));else if(this.m_GameState.GetPlayerState()===B.PickingOperand2){const i=this.m_GameState.PickOperand2(e,t);this.m_CardButtons[t].NumberButtonSetText(i),this.m_Array_ExpressionBars.forEach((t=>{t.SetText(i)}));let s=0;for(let t=0;t<4;t++)!0===this.m_BtnUsed[t]&&s++;3===s&&(this.m_GameState.CheckSolution(i)?(this.m_GameState.IncrTotalCorrect(),this.ShowPlayerWon(i)):(this.m_GameState.IncrTotalWrong(),this.ShowPlayerLost(i),this.ShowPeekSolutionButton()),this.DisableNumberButtons(),this.DisableOperationButtons(),this.m_Btn_NewCard.SetEnabled(),this.mCountDownTimer.StopCountdown(),this.m_GameState.IsMaxCardCountReached()&&this.ShowEndgamePanel()),this.m_GameState.ResetOperationState()}}HandleButtonClick_Operation(t){const e=this.m_GameState.PickOperator(t);this.EnableNumberButtons(),this.DisableOperationButtons(),this.m_Array_ExpressionBars.forEach((t=>{t.SetText(e)}))}Setup(){this.m_ImageText_Rules=this.add.image(this.scale.width/2,this.scale.height/2,"textImage_rules"),this.m_ImageText_Rules.setScale(1.5),this.input.on("pointerup",(()=>{this.input.removeListener("pointerup"),this.tweens.add({targets:this.m_ImageText_Rules,alpha:0,duration:500,ease:"Power1"}),this.Show_DifficultyPanel()}))}Show_DifficultyPanel(){this.m_Group_SelectDifficultyPanel=this.add.group(),this.m_ImageText_PickADifficulty=this.add.image(this.scale.width/2,200,"textImage_pickDiff"),this.m_ImageText_PickADifficulty.setAlpha(0),this.m_Group_SelectDifficultyPanel.add(this.m_ImageText_PickADifficulty),this.m_DifficultyButtons=[new r(this,this.scale.width/2,this.scale.height/2-192,1,1,"",{},"btn_easy",0),new r(this,this.scale.width/2,this.scale.height/2,1,1,"",{},"btn_medium",0),new r(this,this.scale.width/2,this.scale.height/2+192,1,1,"",{},"btn_hard",0),new r(this,this.scale.width/2,this.scale.height/2+384,1,1,"",{},"btn_allDifficulties",0)];for(let t=0;t<4;t++)this.m_DifficultyButtons[t].on("pointerup",(()=>this.events.emit("DifficultyButtonClick",t))),this.m_DifficultyButtons[t].setAlpha(0),this.m_Group_SelectDifficultyPanel.add(this.m_DifficultyButtons[t]);this.m_Tween_ShowDifficultyPanel=this.tweens.add({targets:this.m_Group_SelectDifficultyPanel.getChildren().map((function(t){return t})),alpha:1,duration:1e3,delay:500})}HandleDifficultyButtonClick(t){let e;switch(this.m_Group_SelectDifficultyPanel.setVisible(!1),t){case 0:e=m.Easy;break;case 1:e=m.Medium;break;case 2:e=m.Hard;break;case 3:e=m.Any;break;default:e=m.Easy}this.m_GameState=new P(e),this.Setup_GUI()}Setup_GUI(){this.m_Group_CardGroup=this.add.group(),this.m_Image_CardBG=this.add.image(this.scale.width/2,this.scale.height/2+60,"cardBG"),this.m_Image_CardBG.setScale(1.1),this.cardCounter=new r(this,this.scale.width/2+256,70,.5,.5,`0 / ${this.m_GameState.MAX_CARD_TOTAL}`,{fontFamily:"Vertiky",align:"center",fontSize:38,color:"white",fontStye:"bold"},"cardCounterBG"),this.m_BtnUsed=new Array,this.m_CardButtons=[new r(this,this.scale.width/2-204,this.m_Image_CardBG.y,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fill:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2,this.m_Image_CardBG.y-204,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fill:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2+204,this.m_Image_CardBG.y,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fill:"#FFFFFF"},"btn_numberBG"),new r(this,this.scale.width/2,this.m_Image_CardBG.y+204,1.4,1.4,"?",{fontFamily:"Bubblegum",fontSize:128,fill:"#FFFFFF"},"btn_numberBG")];for(let t=0;t<this.m_CardButtons.length;t++)this.m_CardButtons[t].SetDisabled(),this.m_CardButtons[t].on("pointerup",(()=>this.events.emit("NumberButtonClick",t))),this.m_BtnUsed[t]=!1,this.m_Group_CardGroup.add(this.m_CardButtons[t]);this.m_Btn_NewCard=new r(this,this.scale.width/2,this.m_Image_CardBG.y,.6,.6,"",{fontSize:32},"btn_playCard"),this.m_Btn_NewCard.on("pointerup",(()=>this.NewCard())),this.m_Group_CardGroup.add(this.m_Btn_NewCard),this.m_Array_PlayerButtons=[new r(this,128,128,.8,.8,"",{fontFamily:"Vertiky",fontSize:96},"btn_player1"),new r(this,this.scale.width-128,128,.8,.8,"",{fontFamily:"Vertiky",fontSize:96},"btn_player2"),new r(this,128,this.scale.height-128,.8,.8,"",{fontFamily:"Vertiky",fontSize:96},"btn_player3"),new r(this,this.scale.width-128,this.scale.height-128,.8,.8,"",{fontFamily:"Vertiky",fontSize:96},"btn_player4")];for(let t=0;t<4;t++)this.m_Array_PlayerButtons[t].SetDisabled(),this.m_Array_PlayerButtons[t].on("pointerup",(()=>this.events.emit("PlayerButtonClick",t)));switch(this.btnOperationAdd=new r(this,this.scale.width/2+580,this.scale.height/2-64,1,1,"",{fontSize:64},"btn_addition"),this.btnOperationAdd.on("pointerup",(()=>this.events.emit("OperationButtonClick","+"))),this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract=new r(this,this.scale.width/2+800,this.scale.height/2-64,1,1,"",{fontSize:64},"btn_subtraction"),this.btnOperationSubtract.on("pointerup",(()=>this.events.emit("OperationButtonClick","-"))),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply=new r(this,this.scale.width/2+580,this.scale.height/2+160,1,1,"",{fontSize:64},"btn_multiplication"),this.btnOperationMultiply.on("pointerup",(()=>this.events.emit("OperationButtonClick","x"))),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide=new r(this,this.scale.width/2+800,this.scale.height/2+160,1,1,"",{fontSize:64},"btn_division"),this.btnOperationDivide.on("pointerup",(()=>this.events.emit("OperationButtonClick","/"))),this.btnOperationDivide.SetDisabled(),this.m_Array_ExpressionBars=[new r(this,this.scale.width/2-420,this.m_Image_CardBG.y,.9,.7,"",{fontFamily:"Bubblegum",fontSize:48,color:"#FFFFFF"},"inputBar").SetAngle(-90),new r(this,this.scale.width/2,this.m_Image_CardBG.y-416,.9,.7,"",{fontFamily:"Bubblegum",fontSize:48,color:"#FFFFFF"},"inputBar"),new r(this,this.scale.width/2+420,this.m_Image_CardBG.y,.9,.7,"",{fontFamily:"Bubblegum",fontSize:48,color:"#FFFFFF"},"inputBar").SetAngle(90),new r(this,this.scale.width/2,this.m_Image_CardBG.y+416,.9,.7,"",{fontFamily:"Bubblegum",fontSize:48,color:"#FFFFFF"},"inputBar").SetAngle(180)],this.m_Array_ExpressionBars.forEach((t=>{t.SetDisabled(1)})),this.tweens.add({targets:this.btnGotoMenu,x:this.scale.width/2-256,repeat:0,ease:"Power1"}),this.m_GameState.difficulty){case m.Any:this.imageDifficulty=this.add.image(this.scale.width/2,-96,"btn_allDifficulties");break;case m.Easy:this.imageDifficulty=this.add.image(this.scale.width/2,-96,"btn_easy");break;case m.Medium:this.imageDifficulty=this.add.image(this.scale.width/2,-96,"btn_medium");break;case m.Hard:this.imageDifficulty=this.add.image(this.scale.width/2,-96,"btn_hard")}this.imageDifficulty.setScale(.7),this.tweens.add({targets:this.imageDifficulty,y:70,repeat:0,ease:"Elastic1"}),this.mMinicard1=new G(this,384,128,"    "),this.mMinicard2=new G(this,this.scale.width-384,128,"    "),this.mCountdownTimerImage=this.add.image(224,this.scale.height/2,"clockBG1"),this.mCountDownTimer=new c(this,12,this.NoTimeLeft.bind(this),316,this.scale.height/2,40,"00 : 12"),this.mBtnPeekSolution=new r(this,this.scale.width/2+320,-40,.8,.8,"",{},"btn_peekImage"),this.mBtnPeekSolution.SetDisabled(0),this.mBtnPeekSolution.on("pointerup",(()=>this.events.emit("PeekSolutionButtonClick")))}EnableNumberButtons(){for(let t=0;t<4;t++)!1===this.m_BtnUsed[t]&&this.m_CardButtons[t].SetEnabled()}DisableNumberButtons(){this.m_CardButtons.forEach((t=>{t.SetDisabled()}))}EnableOperationButtons(){this.btnOperationAdd.SetEnabled(),this.btnOperationSubtract.SetEnabled(),this.btnOperationMultiply.SetEnabled(),this.btnOperationDivide.SetEnabled()}DisableOperationButtons(){this.btnOperationAdd.SetDisabled(),this.btnOperationSubtract.SetDisabled(),this.btnOperationMultiply.SetDisabled(),this.btnOperationDivide.SetDisabled()}ShowPlayerWon(t){this.m_Array_ExpressionBars.forEach((e=>{e.SetText(t+" = 24"),e.SetTextColor("#00ff1a")})),this.m_Array_PlayerButtons[this.m_GameState.GetCurrentPlayer()].SetText(this.m_GameState.GetCurrentPlayerScore().toString())}ShowPlayerLost(t){this.m_Array_ExpressionBars.forEach((e=>{e.SetText(t+` = ${S(t)}`),e.SetTextColor("#ff2600")})),this.m_Array_PlayerButtons[this.m_GameState.GetCurrentPlayer()].SetText(this.m_GameState.GetCurrentPlayerScore().toString())}NoTimeLeft(){this.DisableNumberButtons(),this.DisableOperationButtons(),this.m_Array_ExpressionBars.forEach((t=>{t.SetTextColor("#ff2600")})),this.m_GameState.IncrTotalWrong(),this.m_Array_PlayerButtons[this.m_GameState.GetCurrentPlayer()].SetText(this.m_GameState.GetCurrentPlayerScore().toString()),this.m_Btn_NewCard.SetEnabled(),this.ShowPeekSolutionButton(),this.m_GameState.IsMaxCardCountReached()&&this.ShowEndgamePanel()}ShowPeekSolutionButton(){this.mBtnPeekSolution.SetEnabled(0),this.tweens.add({targets:this.mBtnPeekSolution,y:this.scale.height/2-384,alpha:1,duration:500,ease:"Power1"})}HandleButtonClick_PeekSolution(){const t=h.GetSolution(this.m_GameState.GetCurrentCard());this.m_Array_ExpressionBars.forEach((e=>{e.SetText(t.replaceAll("*","x")+" = 24"),e.SetTextColor("#00ff1a")})),this.HidePeekSolutionButton()}HidePeekSolutionButton(){this.mBtnPeekSolution.SetDisabled(1),this.tweens.add({targets:this.mBtnPeekSolution,y:-64,alpha:0,duration:500,ease:"Power1",delay:200})}ShowEndgamePanel(){this.m_Array_ExpressionBars.forEach((t=>t.SetDisabled(0))),this.mBtnPeekSolution.SetDisabled(0),this.mBtnPeekSolution.setVisible(!1),this.m_Array_PlayerButtons.forEach((t=>t.SetDisabled())),this.mMinicard1.SetVisible(!1),this.mMinicard2.SetVisible(!1),this.m_Btn_NewCard.SetDisabled();let t=this.add.image(this.scale.width/2,this.scale.height/2+64,"gameEndBGg");t.setAlpha(0),this.tweens.add({targets:t,scale:1.5,alpha:1,duration:500,ease:"Power1"}),this.m_GameState.IsGameTied()?(console.log("Game was a tie"),this.ShowEndgamePanelTieMessage()):(console.log("Someone won"),this.ShowEndgamePanelWinningMessage()),this.btnGotoMenu.setDepth(1),this.tweens.add({targets:this.btnGotoMenu,scale:1,duration:500,ease:"Power1",x:this.scale.width/2,y:this.scale.height/2+300})}ShowEndgamePanelTieMessage(){let t=new o(this,this.scale.width/2,this.scale.height/2+54,"O jogo ficou empatado!",{fontFamily:"Vertiky",align:"center",fontSize:54,color:"#4e2400"});t.setAlpha(0),this.tweens.add({targets:t,alpha:1,duration:500,ease:"Power1"})}ShowEndgamePanelWinningMessage(){const t=this.m_GameState.GetWinningPlayersIndexes(),e=this.m_GameState.GetWinningScore();let i;t.length>1?(console.log("Vários Jogadores"),i=new o(this,this.scale.width/2,this.scale.height/2+54,`Parabéns               \n\n\nObtiveram um total de ${e} pontos!`,{fontFamily:"Vertiky",align:"center",fontSize:54,color:"#4e2400"})):(console.log("Um jogador"),i=new o(this,this.scale.width/2,this.scale.height/2+54,`Parabéns               \n\n\nObtiveste um total de ${e} pontos!`,{fontFamily:"Vertiky",align:"center",fontSize:54,color:"#4e2400"})),i.setAlpha(0),this.tweens.add({targets:[i],alpha:1,duration:500,ease:"Power1"});for(let e=0;e<t.length;e++){const i=this.m_Array_PlayerButtons[t[e]];i.SetText(""),i.setDepth(1),this.tweens.add({targets:i,alpha:1,x:this.scale.width/2+96+64*e,y:this.scale.height/2-25,scale:.6,duration:500,ease:"Power1"})}}}class D{constructor(t){this.STYLE_TEXT=" style=\" \n        outline:black;\n        border:black;\n        background-color: transparent;\n        border-width: 1px;\n        font-size: 15px;\n        font-family: 'Vertiky';\n        text-align: center;\n        position: absolute;\n        \"\n    ";let e=`<input type="text" name="username" ${this.STYLE_TEXT} >`,i=`<input type="password" name="password" ${this.STYLE_TEXT}>`;this.usernameInput=t.add.dom(0,0).createFromHTML(e,"phaser-example"),this.usernameInput.setPosition(t.scale.width/2,t.scale.height/2),this.usernameInput.setScale(2.85,3.2),this.usernameInput.x-=150,this.usernameInput.y-=60,this.passwordInput=t.add.dom(0,0).createFromHTML(i,"phaser-example"),this.passwordInput.setPosition(t.scale.width/2,t.scale.height/2),this.passwordInput.setScale(2.85,3.2),this.passwordInput.x+=-150,this.passwordInput.y+=148,t.game.domContainer.setAttribute("id","loginFormContainer"),this.DisableForm()}GetUsername(){return this.usernameInput.getChildByName("username").value}GetPassword(){return this.passwordInput.getChildByName("password").value}EnableForm(){var t;this.usernameInput.getChildByName("username").disabled=!1,this.passwordInput.getChildByName("password").disabled=!1,null===(t=document.getElementById("loginFormContainer"))||void 0===t||t.style.removeProperty("pointer-events")}DisableForm(){var t;let e=this.usernameInput.getChildByName("username");e.value="",e.disabled=!0;let i=this.passwordInput.getChildByName("password");i.value="",i.disabled=!0,null===(t=document.getElementById("loginFormContainer"))||void 0===t||t.style.setProperty("pointer-events","none")}SetFormPosition(t,e){this.usernameInput.setPosition(t,e),this.usernameInput.setPosition(t,e+256)}}!function(t){t[t.AboutGame=0]="AboutGame",t[t.HowToPlay=1]="HowToPlay",t[t.Credits=2]="Credits",t[t.Login=3]="Login"}(T||(T={}));class I extends n().Scene{constructor(){super("MainMenu"),console.warn("Final tweaks version")}create(){this.add.sprite(this.scale.width/2,this.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height),this.add.sprite(this.scale.width/2-720,this.scale.height-283,"toon"),this.add.sprite(this.scale.width/2,160,"title").setScale(.7,.7),this.btnTabletMode=new r(this,this.scale.width-128,this.scale.height-64-672,.8,.8,"",{},"btn_tabletMode"),this.btnTabletMode.once("pointerup",(()=>this.StartMultiplayerGame())),this.btnFullscreenToggle=new r(this,128,128,.8,.8,"",{},this.scale.isFullscreen?"fullscreenOff":"fullscreenOn"),this.btnFullscreenToggle.on("pointerup",(()=>this.ToggleFullscreen())),this.btnLeaderboards=new r(this,this.scale.width-128,this.scale.height-64-352,.8,.8,"",{},"btn_top"),this.btnLeaderboards.on("pointerup",(()=>this.StartRankingScene())),this.btnAboutGame=new r(this,this.scale.width-128,this.scale.height-64-192,.8,.8,"",{},"btn_about"),this.btnAboutGame.on("pointerup",(()=>this.ShowPanel(T.AboutGame))),this.btnHowToPlay=new r(this,this.scale.width-128,this.scale.height-64-32,.8,.8,"",{},"btn_howToPlay"),this.btnHowToPlay.on("pointerup",(()=>this.ShowPanel(T.HowToPlay))),this.btnCredits=new r(this,this.scale.width-128,this.scale.height-64-512,.8,.8,"",{},"btn_credits"),this.btnCredits.on("pointerup",(()=>this.ShowPanel(T.Credits))),this.btnPlaySoloEasy=new r(this,this.scale.width/2,this.scale.height/2-64,1.2,1.2,"",{},"btn_easy",0),this.btnPlaySoloEasy.on("pointerup",(()=>this.StartSoloGame(m.Easy))),this.btnPlaySoloMedium=new r(this,this.scale.width/2,this.scale.height/2+128,1.2,1.2,"",{},"btn_medium",0),this.btnPlaySoloMedium.on("pointerup",(()=>this.StartSoloGame(m.Medium))),this.btnPlaySoloHard=new r(this,this.scale.width/2,this.scale.height/2+320,1.2,1.2,"",{},"btn_hard",0),this.btnPlaySoloHard.on("pointerup",(()=>this.StartSoloGame(m.Hard))),this.SetupLoginLogoutButtons(),this.imgHowToPlay=this.add.image(this.scale.width/2,this.scale.height/2+140,"howToPlay"),this.imgHowToPlay.setScale(.4),this.imgHowToPlay.setAlpha(0),this.imgAboutTheGame=this.add.image(this.scale.width/2,this.scale.height/2+140,"aboutGame"),this.imgAboutTheGame.setScale(.4),this.imgAboutTheGame.setAlpha(0),this.imgCredits=this.add.image(this.scale.width/2,this.scale.height/2+140,"credits"),this.imgCredits.setScale(.4),this.imgCredits.setAlpha(0),this.imgLoginWindow=this.add.image(this.scale.width/2,this.scale.height/2+140,"loginBG"),this.imgLoginWindow.setScale(.4),this.imgLoginWindow.setAlpha(0),this.btnLogin=new r(this,this.scale.width/2,this.scale.height/2+360,1.2,1.2,"",{},"btn_login",0),this.btnLogin.SetDisabled(0),this.btnLogin.on("pointerup",(()=>this.PerformLogin())),this.btnClosePanel=new r(this,this.scale.width/2+400,this.scale.height/2-200,.8,.8,"",{},"btn_close"),this.btnClosePanel.on("pointerup",(()=>this.HidePanel())),this.btnClosePanel.setAlpha(0),this.groupPanel=this.add.group([this.imgAboutTheGame,this.imgHowToPlay,this.imgCredits,this.btnClosePanel,this.imgLoginWindow]),this.groupPanel.setAlpha(0),this.isPanelOpen=!1,this.SetupLoginForm()}StartSoloGame(t){this.scene.start("SoloGame",{difficulty:t})}StartMultiplayerGame(){this.scene.start("MultiplayerGame")}StartRankingScene(){this.scene.start("RankingScene")}ShowPanel(t){if(!this.isPanelOpen){switch(t){case T.AboutGame:this.PlayTween_ShowPanel(T.AboutGame);break;case T.HowToPlay:this.PlayTween_ShowPanel(T.HowToPlay);break;case T.Credits:this.PlayTween_ShowPanel(T.Credits);break;case T.Login:this.PlayTween_ShowPanel(T.Login)}this.isPanelOpen=!0}}HidePanel(){this.isPanelOpen=!1,this.PlayTween_HidePanel(),this.EnableSoloGameButtons(),this.btnLogin.SetDisabled(0),this.loginForm.DisableForm(),this.EnableRightSideButtons()}PlayTween_ShowPanel(t){let e;switch(t){case T.Login:e=this.imgLoginWindow;break;case T.HowToPlay:e=this.imgHowToPlay;break;case T.AboutGame:e=this.imgAboutTheGame;break;case T.Credits:e=this.imgCredits}this.tweens.add({targets:[this.groupPanel,e,t==T.Login?this.btnLogin:void 0],alpha:1,scale:t==T.Login?1.7:1.5,ease:"Power1",duration:500}),this.tweens.add({targets:this.btnClosePanel,alpha:1,ease:"Power1",duration:300,delay:400}),this.DisableSoloGameButtons(),this.DisableRightSideButtons(),t==T.Login&&(this.btnLogin.SetEnabled(1),this.loginForm.EnableForm())}PlayTween_HidePanel(){this.tweens.add({targets:[this.imgAboutTheGame,this.imgCredits,this.imgHowToPlay,this.imgLoginWindow,this.btnLogin],alpha:0,scale:.4,ease:"Power1",duration:100}),this.tweens.add({targets:this.btnClosePanel,alpha:0,ease:"Power1",duration:100})}EnableSoloGameButtons(){this.btnPlaySoloEasy.SetEnabled(1),this.btnPlaySoloMedium.SetEnabled(1),this.btnPlaySoloHard.SetEnabled(1)}DisableSoloGameButtons(){this.btnPlaySoloEasy.SetDisabled(1),this.btnPlaySoloMedium.SetDisabled(1),this.btnPlaySoloHard.SetDisabled(1)}PerformLogin(){const t=this.loginForm.GetUsername(),e=this.loginForm.GetPassword();C.Login(t,e).then((t=>{_.LoginWithData(t)?(this.btnLogout.SetEnabled(1),this.btnStartLogin.SetDisabled(0),this.HidePanel(),this.txtUserName.setVisible(!0),this.txtUserName.setText(`Olá, ${_.GetFirstName()}`)):console.log("Login failed!")})).catch((t=>{console.log(t),console.log("Failed to connect to login")}))}PerformLogout(){this.btnLogout.SetDisabled(0),this.btnStartLogin.SetEnabled(1),C.DestroySession(),this.txtUserName.setText(""),this.txtUserName.setVisible(!1)}SetupLoginLogoutButtons(){this.txtUserName=new o(this,this.scale.width-128,32,"Hello",{fontFamily:"Folks-Normal",fontSize:28,color:"#ffffff",fontStyle:"bold"}),this.txtUserName.setVisible(!1),this.btnStartLogin=new r(this,this.scale.width-128,128,.85,.85,"",{},"btn_start_login",0),this.btnStartLogin.on("pointerup",(()=>this.ShowPanel(T.Login))),this.btnLogout=new r(this,this.scale.width-128,128,.85,.85,"",{},"btn_logout",0),this.btnLogout.on("pointerup",(()=>this.PerformLogout())),_.IsLoggedIn()?(this.btnStartLogin.SetDisabled(0),this.txtUserName.setText(`Olá, ${_.GetFirstName()}`),this.txtUserName.setVisible(!0)):this.btnLogout.SetDisabled(0)}SetupLoginForm(){this.loginForm=new D(this)}EnableRightSideButtons(){this.btnTabletMode.SetEnabled(1),this.btnCredits.SetEnabled(1),this.btnLeaderboards.SetEnabled(1),this.btnHowToPlay.SetEnabled(1),this.btnAboutGame.SetEnabled(1)}DisableRightSideButtons(){this.btnTabletMode.SetDisabled(1),this.btnCredits.SetDisabled(1),this.btnLeaderboards.SetDisabled(1),this.btnHowToPlay.SetDisabled(1),this.btnAboutGame.SetDisabled(1)}ToggleFullscreen(){this.scale.isFullscreen?(this.game.scale.stopFullscreen(),this.btnFullscreenToggle.SetImage("fullscreenOn")):(this.game.scale.startFullscreen(),this.btnFullscreenToggle.SetImage("fullscreenOff"))}}class E{constructor(t,e){e.scene&&(e.rows||(e.rows=3),e.cols||(e.cols=3),e.width||(e.width=t.config.width),e.height||(e.height=t.config.height),this.h=e.height,this.w=e.width,this.rows=e.rows,this.cols=e.cols,this.cw=this.w/this.cols,this.ch=this.h/this.rows,this.scene=e.scene)}placeAt(t,e,i){var s=this.cw*t+this.cw/2,a=this.ch*e+this.ch/2;i.x=s,i.y=a}show(t=1){this.graphics=this.scene.add.graphics(),this.graphics.lineStyle(4,"black",t);for(var e=0;e<this.w;e+=this.cw)this.graphics.moveTo(e,0),this.graphics.lineTo(e,this.h);for(e=0;e<this.h;e+=this.ch)this.graphics.moveTo(0,e),this.graphics.lineTo(this.w,e);this.graphics.strokePath()}placeAtIndex(t,e){var i=Math.floor(t/this.cols),s=t-i*this.cols;this.placeAt(s,i,e)}showNumbers(t=1){this.show(t);for(var e=0,i=0;i<this.rows;i++)for(var s=0;s<this.cols;s++){var a=this.scene.add.text(0,0,e,{color:"black"});a.setOrigin(.5,.5),this.placeAt(s,i,a),e++}}getIndexPos(t){var e=Math.floor(t/this.cols),i=t-e*this.cols,s=this.cw*i+this.cw/2,a=this.ch*e+this.ch/2,n={};return n.x=s,n.y=a,n}}class A extends n().Scene{constructor(){super("RankingScene");const t=new Date,e=t.getMonth(),i=t.getFullYear();let s,a;e>7?(s=i,a=i+1):(s=i-1,a=i),this.dataInicial=s+"-09-01",this.dataFinal=a+"-08-31",this.dificulty=1,this.flag=2}preload(){this.load.scenePlugin({key:"rexuiplugin",url:"src/scripts/utils/external/RexUI/rexuiplugin.min.js",sceneKey:"rexUI"})}init(){this.add.image(this.scale.width/2,this.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height),this.imgTitle=this.add.image(this.scale.width/2,112,"title"),this.imgTitle.setScale(.6,.6),this.SetupMenuButton();let t=this.add.image(this.scale.width/2,this.scale.height/2,"blueBackground").setDisplaySize(this.scale.width,this.scale.height);C.GetTOP(this.dataInicial,this.dataFinal,"","",1).then((e=>{let i=function(t){let e=[],i=0;t=t.split("&");for(let s=0;s<t.length;s++)t[s]=t[s].split("=")[1],s%5==0&&(i++,t[s]=t[s].split(" "),1==t[s].length?t[s]=t[s][0]:t[s]=t[s][0]+" "+t[s][t[s].length-1],e.push(i)),s%5==2&&(t[s]=t[s].replace("Agrupamento de Escolas","A.E.")),e.push(t[s]);return e}(e);this.databaseData=i,this.tweens.add({targets:t,alpha:0,duration:500}),this.CompleteScene()})).catch((t=>{this.LoadEmptyScene()}))}CompleteScene(){const t={scene:this,cols:15,rows:15};this.alignmentGrid=new E(this.game,t),this.CreateTable(),this.SetupFilter(),this.SetupYearFilterDropdown(),_.IsLoggedIn()||(this.lblFiltro.visible=!1,this.lblFiltroTurma.visible=!1,this.iconTurma.visible=!1,this.lblFiltroEscola.visible=!1,this.iconEscola.visible=!1,this.lblFiltroTodos.visible=!1,this.iconTodos.visible=!1)}CreateTable(){this.scoreTable=this.rexUI.add.gridTable({x:848,y:this.scale.height/2+64,width:1560,height:768,scrollMode:0,background:this.rexUI.add.roundRectangle(-100,0,8,10,10,15178054),table:{cellWidth:50,cellHeight:50,columns:6,mask:{padding:2,updateMode:0},reuseCellContainer:!0},slider:{track:this.rexUI.add.roundRectangle(0,0,18,10,10,2493956),thumb:this.rexUI.add.roundRectangle(0,0,32,32,13,13130754)},space:{left:10,right:26,top:132,bottom:30,table:10,header:10,footer:10},createCellContainerCallback:function(t,e){let i;t.index%6==0&&(i=10),t.index%6==1&&(i=10),t.index%6==2&&(i=500),t.index%6==3&&(i=1305),t.index%6==4&&(i=2140),t.index%6==5&&(i=2370);var s=t.scene,a=i,n=t.height,o=t.item;return t.index,s.rexUI.add.label({width:a,height:n,orientation:"top-to-bottom",text:s.add.text(50,50,o.name,{fontFamily:"Bubblegum",fontSize:21,color:"#000000",align:"center"}),align:"center"})},items:this.GetTableData()}).layout(),this.lblJogador=new o(this,0,0,"Jogador",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.alignmentGrid.placeAtIndex(61,this.lblJogador),this.lblPontos=new o(this,0,0,"Pontos",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.alignmentGrid.placeAtIndex(63,this.lblPontos),this.lblPontos.x-=20,this.lblEscola=new o(this,0,0,"Escola",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.alignmentGrid.placeAtIndex(66,this.lblEscola),this.lblEscola.x+=45,this.lblTurma=new o(this,0,0,"Turma",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.alignmentGrid.placeAtIndex(69,this.lblTurma),this.lblTurma.x+=130,this.lblData=new o(this,0,0,"Data",{fontFamily:"Folks-Bold",fontSize:40,color:"#403217"}),this.alignmentGrid.placeAtIndex(71,this.lblData),this.lblData.x+=50}SetupMenuButton(){this.btnMainMenu=new r(this,128,128,.8,.8,"",{},"btn_gotoMenu"),this.btnMainMenu.on("pointerup",(()=>this.scene.start("MainMenu")))}SetupFilter(){this.filterBackground=this.rexUI.add.roundRectangle(0,0,216,768,10,15178054),this.alignmentGrid.placeAtIndex(133,this.filterBackground),this.filterBackground.x+=32,this.filterBackground.y-=10,this.lblAnoLetivo=new o(this,0,0,"Ano Letivo",{fontFamily:"Folks-Bold",fontSize:32,color:"#403217",align:"center"}),this.alignmentGrid.placeAtIndex(58,this.lblAnoLetivo),this.lblAnoLetivo.x+=32,this.lblAnoLetivo.y+=16,this.lblDificil=new o(this,0,0,"Dificil",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.alignmentGrid.placeAtIndex(133,this.lblDificil),this.lblDificil.x+=22,this.iconDificil=this.add.circle(0,0,10,16777215),this.alignmentGrid.placeAtIndex(133,this.iconDificil),this.iconDificil.x-=32,this.lblNormal=new o(this,0,0,"Normal",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.alignmentGrid.placeAtIndex(133,this.lblNormal),this.lblNormal.x+=32,this.lblNormal.y+=35,this.iconNormal=this.add.circle(0,0,10,16777215),this.alignmentGrid.placeAtIndex(133,this.iconNormal),this.iconNormal.x-=32,this.iconNormal.y+=35,this.lblFacil=new o(this,0,0,"Fácil",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.alignmentGrid.placeAtIndex(148,this.lblFacil),this.lblFacil.x+=22,this.iconFacil=this.add.circle(0,0,10,16777215),this.alignmentGrid.placeAtIndex(148,this.iconFacil),this.iconFacil.x-=32,this.lblDificuldade=new o(this,0,0,"Dificuldade",{fontFamily:"Folks-Bold",fontSize:32,color:"#403217",align:"center"}),this.alignmentGrid.placeAtIndex(118,this.lblDificuldade),this.lblDificuldade.x+=32,this.lblDificuldade.y+=28,this.lblFacil.setInteractive({useHandCursor:!0}),this.lblFacil.input.hitArea.setTo(-50,-5,this.lblFacil.width+60,this.lblFacil.height),this.lblFacil.on("pointerdown",(()=>{this.iconDificil.setFillStyle("0xffffff"),this.iconNormal.setFillStyle("0xffffff"),this.iconFacil.setFillStyle("0x000000"),this.dificulty=1,this.UpdateTop()})),this.lblNormal.setInteractive({useHandCursor:!0}),this.lblNormal.input.hitArea.setTo(-50,-5,this.lblNormal.width+60,this.lblNormal.height),this.lblNormal.on("pointerdown",(()=>{this.iconDificil.setFillStyle("0xffffff"),this.iconNormal.setFillStyle("0x000000"),this.iconFacil.setFillStyle("0xffffff"),this.dificulty=2,this.UpdateTop()})),this.lblDificil.setInteractive({useHandCursor:!0}),this.lblDificil.input.hitArea.setTo(-50,-5,this.lblDificil.width+60,this.lblDificil.height),this.lblDificil.on("pointerdown",(()=>{this.iconDificil.setFillStyle("0x000000"),this.iconNormal.setFillStyle("0xffffff"),this.iconFacil.setFillStyle("0xffffff"),this.dificulty=3,this.UpdateTop()})),this.lblFiltro=new o(this,0,0,"Filtro",{fontFamily:"Folks-Bold",fontSize:32,color:"#403217",align:"center"}),this.alignmentGrid.placeAtIndex(163.3,this.lblFiltro),this.lblFiltro.y+=32,this.lblFiltroTurma=new o(this,0,0,"Turma",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.alignmentGrid.placeAtIndex(193.2,this.lblFiltroTurma),this.iconTurma=this.add.circle(0,0,10,16777215),this.alignmentGrid.placeAtIndex(193,this.iconTurma),this.iconTurma.x-=32,this.lblFiltroEscola=new o(this,0,0,"Escola",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.alignmentGrid.placeAtIndex(178.2,this.lblFiltroEscola),this.lblFiltroEscola.y+=35,this.iconEscola=this.add.circle(0,0,10,16777215),this.alignmentGrid.placeAtIndex(178,this.iconEscola),this.iconEscola.x-=32,this.iconEscola.y+=35,this.lblFiltroTodos=new o(this,0,0,"Todos",{fontFamily:"Bubblegum",fontSize:25,color:"#000000",align:"left"}),this.alignmentGrid.placeAtIndex(178.2,this.lblFiltroTodos),this.iconTodos=this.add.circle(0,0,10,16777215),this.alignmentGrid.placeAtIndex(178,this.iconTodos),this.iconTodos.x-=32,this.lblFiltroTodos.setInteractive({useHandCursor:!0}),this.lblFiltroTodos.input.hitArea.setTo(-50,-5,this.lblFiltroTodos.width+60,this.lblFiltroTodos.height),this.lblFiltroTodos.on("pointerdown",(()=>{this.iconTodos.setFillStyle("0x000000"),this.iconEscola.setFillStyle("0xffffff"),this.iconTurma.setFillStyle("0xffffff"),this.flag=2,this.UpdateTop()})),this.lblFiltroEscola.setInteractive({useHandCursor:!0}),this.lblFiltroEscola.input.hitArea.setTo(-50,-5,this.lblFiltroEscola.width+60,this.lblFiltroEscola.height),this.lblFiltroEscola.on("pointerdown",(()=>{this.iconTodos.setFillStyle("0xffffff"),this.iconEscola.setFillStyle("0x000000"),this.iconTurma.setFillStyle("0xffffff"),this.flag=1,this.UpdateTop()})),this.lblFiltroTurma.setInteractive({useHandCursor:!0}),this.lblFiltroTurma.input.hitArea.setTo(-50,-5,this.lblFiltroTurma.width+60,this.lblFiltroTurma.height),this.lblFiltroTurma.on("pointerdown",(()=>{this.iconTodos.setFillStyle("0xffffff"),this.iconEscola.setFillStyle("0xffffff"),this.iconTurma.setFillStyle("0x000000"),this.flag=0,this.UpdateTop()})),this.iconTodos.setFillStyle("0x000000"),this.iconFacil.setFillStyle("0x000000")}SetupYearFilterDropdown(){this.schoolYearDropdown=this.rexUI.add.gridTable({x:1750,y:400,width:180,height:250,scrollMode:0,table:{cellWidth:100,cellHeight:50,columns:1,mask:{padding:2,updateMode:0},reuseCellContainer:!0},slider:{track:this.rexUI.add.roundRectangle(0,0,10,10,10,2493956),thumb:this.rexUI.add.roundRectangle(0,0,32,32,13,13130754)},space:{left:20,right:0,top:20,bottom:20,table:10,header:10,footer:10},createCellContainerCallback:(t,e)=>{var i=t.scene,s=t.width,a=t.height,n=t.item;t.index,e=i.rexUI.add.label({width:s,height:a,orientation:0,icon:i.add.circle(0,50,10).setFillStyle("0xffffff"),text:i.add.text(50,50,n,{fontFamily:"Bubblegum",fontSize:25,color:"black",align:"center"}),align:"center",space:{icon:20}});const o=new Date;var r=o.getMonth(),l=o.getFullYear();let h,c;r>7?(h=l,c=l+1):(h=l-1,c=l);let d=h.toString(),u=c.toString();e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>{i.lastclick&&i.lastclick.setFillStyle("0xffffff"),i.lastclick=e.getElement("icon").setFillStyle("0x000000"),"Todos"!=e.getElement("text")._text?(this.dataInicial="20"+e.getElement("text")._text.split("-")[0]+"-9-1",this.dataFinal="20"+e.getElement("text")._text.split("-")[1]+"-8-31"):(this.dataInicial="2015-09-01",this.dataFinal=(new Date).toISOString().slice(0,10)),this.UpdateTop()}));let m=d.slice(2,4)+"-"+u.slice(2,4);return e.getElement("text")._text==m&&(i.lastclick=e.getElement("icon").setFillStyle("0x000000")),e},items:this.GetSchoolYearList()}).layout()}LoadEmptyScene(){this.btnMainMenu.setDepth(1),this.tweens.add({targets:this.btnMainMenu,x:this.scale.width/2,y:this.scale.height/2+200,scale:1.1,duration:500,ease:"Power1"});let t=this.add.image(this.scale.width/2,this.scale.height/2+128,"panel_empty");t.setAlpha(0),this.tweens.add({targets:t,scale:1.5,alpha:1,duration:500,ease:"Power1"});let e=new o(this,this.scale.width/2,this.scale.height/2-128,"Não foi possível ligar à internet.",{fontFamily:"Vertiky",align:"center",fontSize:64,color:"#4e2400"});e.setAlpha(0);let i=new o(this,this.scale.width/2,this.scale.height/2-16,"Verifica a tua ligação e tenta novemente.",{fontFamily:"Vertiky",align:"center",fontSize:48,color:"#4e2400"});i.setAlpha(0),this.tweens.add({targets:[e,i],alpha:1,duration:500,ease:"Power1",delay:300})}GetSchoolYearList(){var t=new Array,e=new Date,i=e.getMonth(),s=e.getFullYear();let a;a=i>7?s+1:s;let n=15;for(let e=2015;e<a;e++)t.push(n.toString()+"-"+(n+1).toString()),n++;return t.push("Todos"),t.reverse()}GetTableData(){const t=[];return this.databaseData.forEach((e=>{t.push({name:e})})),t}UpdateTop(){C.UpdateTOP(this.dataInicial,this.dataFinal,this.flag,this.dificulty).then((t=>{let e=function(t){let e=[],i=0;t=t.split("&");for(let s=0;s<t.length;s++)t[s]=t[s].split("=")[1],s%5==0&&(i++,t[s]=t[s].split(" "),1==t[s].length?t[s]=t[s][0]:t[s]=t[s][0]+" "+t[s][t[s].length-1],e.push({name:i})),s%5==2&&(t[s]=t[s].replace("Agrupamento de Escolas","A.E.")),e.push({name:t[s]});return e}(t);e.length<4?this.scoreTable.setItems([]):this.scoreTable.setItems(e),this.scoreTable.refresh()})).catch((function(t){alert("Não foi possível estabelecer ligação. Por favor tente mais tarde.")}))}}class v extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image("blueBackground","assets/img/common/background0.png"),this.load.image("btn_undo","assets/img/common/voltaratrasBT.png"),this.load.image("btn_reset","assets/img/common/refreshBT.png"),this.load.image("title","assets/img/common/titulo1.png"),this.load.image("toon","assets/img/common/boneco.png"),this.load.image("btn_peekImage","assets/img/common/eye.png"),this.load.image("panel_empty","assets/img/common/painelVazio.png"),this.load.image("gameEndBGg","assets/img/solo_game/finalDoJogo.png"),this.load.image("fullscreenOn","assets/img/main_menu/fullscreenBT-1.png"),this.load.image("fullscreenOff","assets/img/main_menu/fullscreenBT-2.png"),this.load.image("btn_easy","assets/img/main_menu/facilBT.png"),this.load.image("btn_medium","assets/img/main_menu/medioBT.png"),this.load.image("btn_hard","assets/img/main_menu/dificilBT.png"),this.load.image("btn_about","assets/img/main_menu/sobreojogoBT.png"),this.load.image("btn_howToPlay","assets/img/main_menu/instrucoesBT.png"),this.load.image("btn_top","assets/img/main_menu/topBT.png"),this.load.image("btn_tabletMode","assets/img/main_menu/modotabletBT.png"),this.load.image("btn_credits","assets/img/main_menu/creditosBT.png"),this.load.image("aboutGame","assets/img/main_menu/sobreojogoMC.png"),this.load.image("howToPlay","assets/img/main_menu/instrucoesMC.png"),this.load.image("credits","assets/img/main_menu/creditosMC.png"),this.load.image("btn_close","assets/img/main_menu/closeBT.png"),this.load.image("btn_start_login","assets/img/main_menu/startLogin.png"),this.load.image("btn_login","assets/img/main_menu/performLogin.png"),this.load.image("btn_logout","assets/img/main_menu/logout.png"),this.load.image("loginBG","assets/img/main_menu/loginWindow.png"),this.load.image("smallTitle","assets/img/solo_game/titulo2-peq.png"),this.load.image("btn_playCard","assets/img/solo_game/playCard.png"),this.load.image("btn_gotoMenu","assets/img/solo_game/retmenuBT.png"),this.load.image("clockBG1","assets/img/solo_game/relogio.png"),this.load.image("clockBG2","assets/img/solo_game/relogioN.png"),this.load.image("correctCounter","assets/img/solo_game/assinalaCertos.png"),this.load.image("wrongCounter","assets/img/solo_game/assinalaErrados.png"),this.load.image("inputBar","assets/img/common/barra.png"),this.load.image("cardBG","assets/img/solo_game/cardBackground.png"),this.load.image("btn_numberBG","assets/img/common/numeroBTBG.png"),this.load.image("btn_addition","assets/img/solo_game/opAdicao.png"),this.load.image("btn_subtraction","assets/img/solo_game/opSubtracao.png"),this.load.image("btn_multiplication","assets/img/solo_game/opMultiplicacao.png"),this.load.image("btn_division","assets/img/solo_game/opDivisao.png"),this.load.image("btn_allDifficulties","assets/img/multiplayer_game/todosBT.png"),this.load.image("textImage_rules","assets/img/multiplayer_game/textoi.png"),this.load.image("textImage_pickDiff","assets/img/multiplayer_game/textoi2.png"),this.load.image("btn_player1","assets/img/multiplayer_game/btt1.png"),this.load.image("btn_player2","assets/img/multiplayer_game/btt2.png"),this.load.image("btn_player3","assets/img/multiplayer_game/btt3.png"),this.load.image("btn_player4","assets/img/multiplayer_game/btt4.png"),this.load.image("cardCounterBG","assets/img/multiplayer_game/cardCounterBG.png"),this.load.image("sliderThumb","assets/img/common/numeroBTBG.png")}create(){this.PreloadFonts(),this.scene.start("MainMenu")}PreloadFonts(){this.add.text(0,0,"DEFAULT",{font:"1px Vertiky"}).setVisible(!1),this.add.text(0,0,"DEFAULT",{font:"1px Folks-Normal"}).setVisible(!1),this.add.text(0,0,"DEFAULT",{font:"1px Folks-Bold"}).setVisible(!1),this.add.text(0,0,"DEFAULT",{font:"1px Bubblegum"}).setVisible(!1)}}var M=i(451);const N={type:Phaser.AUTO,backgroundColor:"#ffffff",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:1920,height:1080},parent:"game",dom:{createContainer:!0},antialias:!0,scene:[v,I,F,k,A],plugins:{scene:[{key:"rexUI",plugin:M.Z,mapping:"rexUI"}]}};new Phaser.Game(N).scale.fullscreenTarget=document.getElementById("game"),_.GetInstance()},42:()=>{}},i={};function s(t){var a=i[t];if(void 0!==a)return a.exports;var n=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,s.amdD=function(){throw new Error("define cannot be used indirect")},s.amdO={},t=[],s.O=(e,i,a,n)=>{if(!i){var o=1/0;for(h=0;h<t.length;h++){for(var[i,a,n]=t[h],r=!0,l=0;l<i.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every((t=>s.O[t](i[l])))?i.splice(l--,1):(r=!1,n<o&&(o=n));r&&(t.splice(h--,1),e=a())}return e}n=n||0;for(var h=t.length;h>0&&t[h-1][2]>n;h--)t[h]=t[h-1];t[h]=[i,a,n]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={179:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var a,n,[o,r,l]=i,h=0;for(a in r)s.o(r,a)&&(s.m[a]=r[a]);for(l&&l(s),e&&e(i);h<o.length;h++)n=o[h],s.o(t,n)&&t[n]&&t[n][0](),t[o[h]]=0;s.O()},i=self.webpackChunkJogo24=self.webpackChunkJogo24||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var a=s.O(void 0,[216],(()=>s(928)));a=s.O(a)})();